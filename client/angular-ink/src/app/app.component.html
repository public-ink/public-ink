<div style="height: 100px;"></div>
<!-- more space :) -->

<div [@topBarAnimation]="backend.account?.accordionState" style="color: white;">{{Â backend.account?.accordionState }}<br>jo<br><br></div>

<router-outlet></router-outlet>

<!-- overlay -->
<flex-col-center-center *ngIf="ui.overlay" (click)="ui.overlay=false" style="background-color: rgba(255, 255, 255, 0.9); width: 100vw; height: 100vh; position: fixed; top: 0; left: 0;">
  {{ ui.overlayInidcator }}
  {{ ui.overlayMessage }}
</flex-col-center-center>

<!-- confirm -->
<flex-col-center-center *ngIf="ui.confirmQuestion" (click)="ui.confirmQuestion=''" style="background-color: rgba(255, 255, 255, 0.9); width: 100vw; height: 100vh; position: fixed; top: 0; left: 0;">
    {{ ui.confirmQuestion }}
    <button>yes</button>
    <button>cancel</button>
  </flex-col-center-center>






<!-- top bar -->
<app-content-width 
  [ngStyle]="styles.topBar()">
    <flex-row-between>
        <app-logo
        [routerLink]="['/']"
        [size]="10"
        [bg]="'lime'"
        [negative]="'transparent'"
        ></app-logo>

        <!-- center -->
        <div style="padding: 10px;">
          <!-- loading -->
          <div *ngIf="backend.loading" class="spinner"></div>
          <div *ngIf="!backend.loading" style="opacity: 0.4; font-size: 26px; color: #ddd; font-weight: bold; font-style: normal;">public.ink</div>
        </div>
        <!-- or logout -->
        <!-- or public.ink! -->

      <!-- right  -->
      <div>
        <!-- arrow -->
        <app-arrow *ngIf="backend.account" (click)="toggleAccount()" [accordionState]="backend.account.accordionState"></app-arrow>
      </div>
    </flex-row-between>

    <!-- second row -->
    <flex-col *ngIf="backend.account" [@topBarAnimation]="backend.account.accordionState">
       
        <br><br>
            <div style="color: gray;"><span >You are logged in with {{ backend.account.email }} /</span>
              <span style="text-decoration:none;" (click)="backend.logout()">log out</span></div>
      
              <!-- author badges -->
              <flex-row-around>
                <flex-col-center *ngFor="let author of backend.account?.authors" 
                  style="outline:none; cursor: pointer;"
                  [routerLink]="['/', author.id]">
                  <div style="background-color:white; margin-bottom: 15px; width: 100px; height: 100px; padding:12px; border-radius: 100%; border: 1px dotted #ccc;">
                    <img [src]="author.imageURL" style="width: 100px; height: 100px; border-radius: 100%;"/>
                  </div>
                  <span style="font-style: italic; font-weight: bold;">{{ author.name }}</span>
                  
              </flex-col-center>
              <!-- new author -->
              <flex-col-center  
                [routerLink]="['/create-author']"
                style="outline:none; cursor: pointer;"
              >
                <div style="background-color:white; margin-bottom: 15px; width: 100px; height: 100px; padding:12px; border-radius: 100%; border: 1px dotted #ccc;">
                  <flex-col-center-center style="font-size: 40px; width: 100px; height: 100px; border-radius: 100%; background: #333; color:#777; font-weight:bold;">+</flex-col-center-center>
                </div>
                <span style="font-style: italic; font-weight: bold;">new author</span>
                
            </flex-col-center>

            </flex-row-around>

          <br><br>
      
    </flex-col>
</app-content-width>

<!-- media bar -->
<flex-row 
  [@mediaBar]="ui.mediaBarVisible"
  [ngStyle]="styles.mediaBar()"
  
  style="color: black; width: 100%; overflow-x: scroll; position: fixed; bottom: 0; left: 0; background-color: white;">

    <svg style="width: 32px; height: 32px;" version="1.1" viewBox="0 0 32 32" width="32" height="32"><title id="back-home">Back home</title><path d="M20.8 18.1c0 2.7-2.2 4.8-4.8 4.8s-4.8-2.1-4.8-4.8c0-2.7 2.2-4.8 4.8-4.8 2.7.1 4.8 2.2 4.8 4.8zm11.2-7.4v14.9c0 2.3-1.9 4.3-4.3 4.3h-23.4c-2.4 0-4.3-1.9-4.3-4.3v-15c0-2.3 1.9-4.3 4.3-4.3h3.7l.8-2.3c.4-1.1 1.7-2 2.9-2h8.6c1.2 0 2.5.9 2.9 2l.8 2.4h3.7c2.4 0 4.3 1.9 4.3 4.3zm-8.6 7.5c0-4.1-3.3-7.5-7.5-7.5-4.1 0-7.5 3.4-7.5 7.5s3.3 7.5 7.5 7.5c4.2-.1 7.5-3.4 7.5-7.5z"></path></svg>


<app-file-drop></app-file-drop>

<flex-col *ngFor="let image of backend.account?.images">
  <img (dragstart)="ui.beingDragged = image" [src]="image.url + '&w=200&h=200'" 
    style="margin-right: 20px;"
  />
</flex-col>

</flex-row>