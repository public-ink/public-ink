<!-- cover for production currently -->
<flex-col-center-center *ngIf="!public" style="user-select: none; z-index: 4; position:fixed; top: 0; left:0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,1);">
    <h2>public.ink</h2>
    <p>is currently in private mode</p>
</flex-col-center-center>
<flex-col-center-center *ngIf="!public" style="user-select: none; z-index: 5; position:fixed; top: 0; left:0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,0);">
    
</flex-col-center-center>


<!-- full screen message overlay -->
<flex-col-center-center *ngIf="ui.overlay" (click)="ui.overlay = false" style="z-index: 9999; position:fixed; top: 0; left:0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,0.9);">

    <div class="spinner-black" *ngIf="ui.loading"></div>
    <flex-center class="success-mark" *ngIf="ui.success">âœ”</flex-center>
    <div class="error-mark" *ngIf="ui.error">x</div>
    

    <h1>{{ ui.message }}</h1>

    <!-- confirm -->
    <flex-row-center *ngIf="ui.toConfirm">
        <button (click)="ui.confirmStream.next('yes')">Yes</button>
        <button (click)="ui.confirmStream.error('no')">No</button>
    </flex-row-center>

</flex-col-center-center>

<div style="height: 49px; z-index: 3; background-color:rgba(0, 0, 0, 0.80); position:fixed; top: 0; left:0; width: 100%; border-bottom: 1px solid rgba(20, 20, 20, 0.80)">
    <app-content-width>
        <flex-row-between-center>

            <h3><a [routerLink]="['/']" class="navlink">public.ink</a></h3>

            <span style="font-size: 20px; color: #333; font-weight: bold;"></span>
            
            <!-- login / signup -->
            <flex-row *ngIf="!backend.userAccount?.authenticated">
                <h3><a [routerLink]="['/auth']"  class="navlink">log in</a> | <a [routerLink]="['/auth']"  class="navlink">sign up</a></h3>
            </flex-row>

            <!-- your things -->
            <flex-row *ngIf="backend.userAccount?.authenticated">
                <h3><a [routerLink]="['/my-account']"  class="navlink">your things</a></h3>
            </flex-row>

        </flex-row-between-center>
        
    </app-content-width>
</div>





<div style="min-height: 100vh;">
    <router-outlet></router-outlet>
</div>

<!-- footer -->

<app-content-width>
    <flex-row-center-center style="height: 50px; margin-top: 50px;">
        2017 | about | contact me
    </flex-row-center-center>

</app-content-width>


<!-- media bar! -->
<div style="position:fixed; bottom: 0px; left:0px; width: 100%;" [hidden]="!ui.mediaBar" *ngIf="ui.mediaBar">
    <div>
        <flex-row style="overflow-x:scroll; background-color: white;">
            
            <app-file-drop></app-file-drop>

             <flex-col *ngFor="let image of backend.userImages ">
                <img (click)="ui.mediaClickStream.next(image)"  [src]="image.url + '&w=200&h=200'" style="margin:5px;" />
                <button (click)="backend.deleteImage(image.id)">delete</button>
             </flex-col>
        </flex-row>
    </div>
</div>

