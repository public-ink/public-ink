<!-- cover for production currently -->
<flex-col-center-center *ngIf="!public" style="z-index: 10000; position:fixed; top: 0; left:0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,1);">
    <h1>public.ink</h1>
</flex-col-center-center>


<!-- full screen message overlay -->
<flex-col-center-center *ngIf="ui.message" (click)="ui.message = false" style="z-index: 9999; position:fixed; top: 0; left:0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,0.8);">
    <h1>{{ ui.message }}</h1>
</flex-col-center-center>

<flex-row-center style="z-index: 9999; border-bottom: 2px solid #444; background-color:white; height: 50px; position:fixed; top: 0; left:0; width: 100%;">
    <flex-row-around-center class="content-width">
        <flex-col-center class="grow">
            <a [routerLink]="['/']">Home</a>
        </flex-col-center>

        <flex-col-center class="grow">
            public.ink {{ env }}
        </flex-col-center>

        <!-- login / signup -->
        <flex-row-center *ngIf="!backend.userAccount?.authenticated" class="grow">
            <a [routerLink]="['/auth']">Log In</a>
            / 
            <a [routerLink]="['/auth']">Sign Up</a>
        </flex-row-center>
        <!-- your account -->
        <flex-col-center *ngIf="backend.userAccount?.authenticated" class="grow">
            <a [routerLink]="['/my-account']">Your Account</a>
        </flex-col-center>


    </flex-row-around-center>
</flex-row-center>

<div style="height: 50px;">just space behind the top bar</div>


<router-outlet></router-outlet>


<!-- media bar! -->
<div style="position:fixed; bottom: 0px; left:0px; width: 100%;" [hidden]="!ui.mediaBar">
    <div>
        <flex-row style="overflow-x:scroll; background-color: white;">
            
            <app-file-drop></app-file-drop>

             <flex-col *ngFor="let image of backend.userImages | slice:0:8 ">
                <img (click)="ui.mediaClickStream.next(image)"  [src]="image.url + '&w=200&h=200'" style="margin:5px;" />
                <button (click)="backend.deleteImage(image.id)">delete</button>
             </flex-col>
        </flex-row>
    </div>
</div>

