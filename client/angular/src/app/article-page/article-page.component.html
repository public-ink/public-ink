<div *ngIf="article">

    <!-- space for toolbar and headroom -->
    <div style="height: 130px"></div>

    <!-- fixed editor toolbar -->
    <div [ngStyle]="{display: isOwner() ? 'block' : 'none'}" style="position:fixed; top:50px; left: 0; width: 100%; border-bottom: 1px solid #ddd; background-color: white; z-index:3;">
        <app-content-width id="toolbar">
            <!-- toolbar controls go here! -->
            <button class="ql-bold">Bold</button>
            <button class="ql-italic">Italic</button>
            <button class="ql-underline">under</button>
            <button class="ql-strike">strike</button>

            <select class="ql-size">
                <option value="small"></option>
                <!-- Note a missing, thus falsy value, is used to reset to default -->
                <option selected></option>
                <option value="large"></option>
                <option value="huge"></option>
            </select>

            <button class="ql-blockquote"></button>
            <button class="ql-image">img</button>
            <button class="ql-link">link</button>
            <button class="ql-header" value="1" type="button"></button>
            <button class="ql-header" value="2" type="button"></button>
            <button class="ql-align" value="center"></button>
            <button class="ql-clean">clean</button>
        </app-content-width>
    </div>

    <br>

    <!-- THE ARTICLE -->

    <app-article [article]="article" [editable]="isOwner()"></app-article>

    <!-- Author Badge! -->

    <app-content-width>

        <!--<simple-spacer></simple-spacer>-->


        <flex-col-center [ngStyle]="ui.styles.standardText()">
                
                <br><br>
            <img [src]="article.publication.author.imageURL + '&w=140&h=140&q=100'" style="border-radius: 100%;; box-shadow: rgba(0, 0, 0, 0.15) 0px 1.5px 3px 0px inset, rgba(0, 0, 0, 0.15) 0px 1.5px 3px 0px; border: 10px solid rgb(255, 255, 255);" />
                <br>
                By {{ article.publication.author.name }} 
        </flex-col-center>

       <!-- <simple-spacer></simple-spacer>-->

    </app-content-width>


    <!-- article comment (new) -->



    <div style="height: 40px;"></div>
    <div style="background:transparent;">
        <app-content-width style="color:black">
            <h1>Your Thoughts</h1>
        </app-content-width>
    </div>

    <app-content-width [ngStyle]="ui.styles.standardText()">



        If you have any thoughts on this article, I'd love to hear them. Just keep in mind that I'm only a human being, so please
        remember to be kind.
        <br><br>
        <textarea [ngStyle]="ui.styles.textarea()" [(ngModel)]="commentBody" placeholder="your thoughts..." autosize rows="3" style="border: 1px dashed black;"></textarea>
        <br>
        <br>
        <input style="border: 1px dashed black;" [ngStyle]="ui.styles.input()" type="text" [(ngModel)]="commentName" placeholder="your name&nbsp;&nbsp;/ optional"
        />
        <br><br>
        <input [ngStyle]="ui.styles.input()" type="email" [(ngModel)]="commentEmail" placeholder="your email / optional and private" />

        <br><br>

        <button style="width: 100%;" class="form-button" (click)="postComment()">share your thoughts</button>

        <br>
        <br>
        <br>

        <!--<div [ngStyle]="ui.styles.button()">show all responses</div>-->
        <div *ngIf="comments && comments.length > 0">
            <h1>{{ comments.length }} Response<span *ngIf="comments.length > 1">s</span></h1>

            <simple-spacer></simple-spacer>
            <div [ngStyle]="ui.styles.standardText()" *ngFor="let comment of comments" style="margin: 30px 0px;">
                <b>{{ comment.name ? comment.name : 'anonym' }}:</b> <span style="white-space: pre-line;">{{ comment.body }}</span>
                <simple-spacer></simple-spacer>
            </div>
            
        </div>
    </app-content-width>




    <!-- fixed bottom bar -->
    <!-- only for owners of this article -->
    <app-bottom-bar *ngIf="ui.bottomBarVisible && isOwner()">
        <app-content-width>
            <flex-row-between-center style="height:50px;">
                <div (click)="saveArticle()">Save Article </div>
                <div (click)="ui.mediaBar = !ui.mediaBar">Show Media</div>
                <div *ngIf="!article.publishedAt" (click)="backend.publishArticle(article)">Publish Article</div>
                <div *ngIf="article.publishedAt" (click)="backend.publishArticle(article, true)">Un-publish Article</div>
                <div (click)="deleteArticle()">Delete Article</div>
            </flex-row-between-center>
        </app-content-width>
    </app-bottom-bar>

</div>