// new parser
//import { MIDIParser } from './3rd/midi-parser'

import { Subject } from 'rxjs/Subject'

import { MIDIService } from '../midi.service'
import * as THREE from 'three'

import { Hero } from './hero'
import { Piano } from './piano'

const songs = {
    'Love and Marriage': 'data:audio/midi;base64,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',
    'Knight Rider': 'data:audio/midi;base64,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EDduDjcAEDdnDjcAEDdsDjcAEDdrDjcAEDdsDjcAEDdtDjcAEDdoDjcAEDdrDjcAEDdtDjcAEDdpDjcAEDdsDjcAEDduDjcAEDdrDjcAEDdrDjcAEDdtDjcAEDdsDjcAEDdqDjcAEDdpDjcAEDdqDjcAEDdmDjcAEDdrDjcAEDdvDjcAEDdzDjcAEDlfDjkAEDlkDjkAEDlhDjkAEDlhDjkAEDlkDjkAEDliDjkAEDljDjkAEDlkDjkAEDllDjkAEDlmDjkAEDlmDjkAEDldDjkAEDlmDjkAEDlgDjkAEDlmDjkAEDlhDjkAEDlmDjkAEDlfDjkAEDlkDjkAEDlmDjkAEDlpDjkAEDlmDjkAEDlmDjkAEDlnDjkAEDlpDjkAEDlrDjkAEDlqDjkAEDlvDjkAEDlsDjkAEDlsDjkAEDluDjkAEDlsDjkAEDdsDjcAEDdnDjcAEDdnDjcAEDdqDjcAEDdrDjcAEDdrDjcAEDdsDjcAEDdsDjcAEDdvDjcAEDduDjcAEDdnDjcAEDdsDjcAEDdrDjcAEDdsDjcAEDdtDjcAEDdoDjcAEDdrDjcAEDdtDjcAEDdpDjcAEDdsDjcAEDduDjcAEDdrDjcAEDdrDjcAEDdtDjcAEDdsDjcAEDdqDjcAEDdpDjcAEDdqDjcAEDdmDjcAEDdrDjcAEDdvDjcAEDdzDjcAEDlfDjkAEDlkDjkAEDlhDjkAEDlhDjkAEDlkDjkAEDliDjkAEDljDjkAEDlkDjkAEDllDjkAEDlmDjkAEDlmDjkAEDldDjkAEDlmDjkAEDlgDjkAEDlmDjkAEDlhDjkAEDlmDjkAEDlfDjkAEDlkDjkAEDlmDjkAEDlpDjkAEDlmDjkAEDlmDjkAEDlnDjkAEDlpDjkAEDlrDjkAEDlqDjkAEDlvDjkAEDlsDjkAEDlsDjkAEDluDjkAEDlsDjkAEDdsDjcAEDdnDjcAEDdnDjcAEDdqDjcAEDdrDjcAEDdrDjcAEDdsDjcAEDdsDjcAEDdvDjcAEDduDjcAEDdnDjcAEDdsDjcAEDdrDjcAEDdsDjcAEDdtDjcAEDdoDjcAEDdrDjcAEDdtDjcAEDdpDjcAEDdsDjcAEDduDjcAEDdrDjcAEDdrDjcAEDdtDjcAEDdsDjcAEDdqDjcAEDdpDjcAEDdqDjcAEDdmDjcAEDdrDjcAEDdvDjcAEDdzDjcAAP8vAE1UcmsAAABTAP8hAQAA/wMAAMkAALkHfwAKQAA3AZ54mSZsHSYAgVMmbzsmAIE1Jm47JgCBNSZuOyYAgTUmcDsmAIE1JnM7JgCBNSZxOyYAgTUmajsmAAD/LwA=',
    'elise': `data:audio/midi;base64,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`,
}

/**
 * Represents a Song!
 * 
 * Todo:
 * 
 * (for use by heros that are not hit)
 * - addToPendingHeros
 * - removeFromPending
 * - getPendingHerosDelta
 * - pause / play helpers
 * - playback speed
 * - track information
 * - track muting, un-muting
 */

export class Song {

    songMidi
    heros: Hero[] = []

    pendingHeros: Hero[] = []
    lastHeroSpeed: number

    constructor(private midi: MIDIService, private scene: THREE.Scene, private animationStream: Subject<any>, private piano: Piano, private dimensions: any) {

        // instead, receive midi!
        /*this.loadBase64('elise')
        this.loadBase64('Love and Marriage')*/
        this.heroSetup(this.songMidi)
        console.log('song midi', this.songMidi)

        // record last speed
        this.lastHeroSpeed = dimensions.heroSpeed

        // subscribe to dimensions
        this.animationStream.subscribe(dimensions => {
            this.lastHeroSpeed = dimensions.heroSpeed
        })


    }

    /*bindInput(inputElement, callback) {
        MIDIParser.addListener(inputElement, (midiData) => {
            console.log('file parsed', midiData)
        })
    }*/

    setupSong(midiObject) {
        //this.heroSetup()
    }


    /*loadBase64(title: string) {
        let base64 = songs[title]
        this.songMidi = MIDIParser.Base64(base64)
    }*/

    heroSetup(midiData) {
        console.log('hero setup calle with', midiData)
        // remove existing hero things
        for (let hero of this.heros) {
            this.scene.remove(hero.mesh)
        }
        this.heros = []

        let delta = 0
        // let midiData = this.midi.parsedMidi

        // load all tracks!
        let tracks = midiData.track
        let trackNumber = 0
        for (let track of tracks) {
            let trackDelta = 0
            let trackEvents = track.event
            for (let event of trackEvents) {
                trackDelta += event.deltaTime
                let eigenDelta = event.deltaTime

                // TODO: understand midi event types better
                if (event.type === 9) {

                    let midiKey = event.data[0]
                    let velocity = event.data[1]

                    // Create Keydown Hero
                    let hero = new Hero(this, trackNumber, this.midi, this.animationStream, this.piano, this.scene, trackDelta, eigenDelta, midiKey, velocity, 'keydown', this.dimensions)

                    this.heros.push(hero)
                }
            }
            trackNumber += 1
        }
    }

    addToPendingHeros(hero: Hero) {
        this.pendingHeros.push(hero)
        this.checkPendingHeros()
    }
    removeFromPendingHeros(hero: Hero) {
        let index = this.pendingHeros.indexOf(hero)
        this.pendingHeros.splice(index, 1)
        this.checkPendingHeros()
    }

    checkPendingHeros() {
        let delta = 0
        for (let hero of this.pendingHeros) {
            delta += hero.eigenDelta
        }
        if (this.pendingHeros.length > 0) {
            this.dimensions.heroSpeed = 0
            console.log('got Heros!: setting speed to zero, should be paused')
        } else {
            console.log('no pending heros, continue playing')
            this.dimensions.heroSpeed = 2
        }
        console.log(this.pendingHeros)
        return delta
    }


}
