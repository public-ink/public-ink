{"version":3,"sources":["webpack:///./src/environments/environment.ts","webpack:///./src/app/models.ts","webpack:///./src/app/backend.service.ts","webpack:///./src/app/ui.service.ts","webpack:///./src/app/article/article.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/account-page/account-page.component.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/article-page/article-page.component.ts","webpack:///./src/app/auth-page/auth-page.component.ts","webpack:///./src/app/author-page/author-page.component.ts","webpack:///./src/app/author/author.component.ts","webpack:///./src/app/autosize.directive.ts","webpack:///./src/app/bottom-bar/bottom-bar.component.ts","webpack:///./src/app/email-verification-page/email-verification-page.component.ts","webpack:///./src/app/file-drop/file-drop.component.ts","webpack:///./src/app/home-page/home-page.component.ts","webpack:///./src/app/layout/layout.component.ts","webpack:///./src/app/me-page/me-page.component.ts","webpack:///./src/app/media-page/media-page.component.ts","webpack:///./src/app/publication-page/publication-page.component.ts","webpack:///./src/app/publication/publication.component.ts","webpack:///./src/app/slugify.pipe.ts","webpack:///./src/app/stringify.pipe.ts","webpack:///./src/app/account-page/account-page.component.css","webpack:///./src/app/app.component.css","webpack:///./src/app/article-page/article-page.component.css","webpack:///./src/app/article/article.component.css","webpack:///./src/app/auth-page/auth-page.component.css","webpack:///./src/app/author-page/author-page.component.css","webpack:///./src/app/author/author.component.css","webpack:///./src/app/bottom-bar/bottom-bar.component.css","webpack:///./src/app/email-verification-page/email-verification-page.component.css","webpack:///./src/app/home-page/home-page.component.css","webpack:///./src/app/layout/layout.component.css","webpack:///./src/app/me-page/me-page.component.css","webpack:///./src/app/media-page/media-page.component.css","webpack:///./src/app/publication-page/publication-page.component.css","webpack:///./src/app/publication/publication.component.css","webpack:///./src/app/account-page/account-page.component.html","webpack:///./src/app/app.component.html","webpack:///./src/app/article-page/article-page.component.html","webpack:///./src/app/article/article.component.html","webpack:///./src/app/auth-page/auth-page.component.html","webpack:///./src/app/author-page/author-page.component.html","webpack:///./src/app/author/author.component.html","webpack:///./src/app/bottom-bar/bottom-bar.component.html","webpack:///./src/app/email-verification-page/email-verification-page.component.html","webpack:///./src/app/file-drop/file-drop.component.html","webpack:///./src/app/home-page/home-page.component.html","webpack:///./src/app/layout/layout.component.html","webpack:///./src/app/me-page/me-page.component.html","webpack:///./src/app/media-page/media-page.component.html","webpack:///./src/app/publication-page/publication-page.component.html","webpack:///./src/app/publication/publication.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  name: 'development',\n  production: false,\n  public: true,\n  backend: 'http://localhost:8080/api'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","/** NEW MODELS! */\nexport interface iAuthor {\n    id: string\n    name: string\n    about: string\n    imageURL: string\n    new?: boolean\n}\nexport interface iPublication {\n    id: string    \n    name: string\n    about: string\n    imageURL: string\n    // parent\n    author: iAuthor\n    new?: boolean\n}\nexport interface iArticle {\n    id: string    \n    title: string\n    bodyOps: string\n    // parent\n    publication: iPublication\n    new?: boolean\n}\n\nexport interface iPublicationResponse {\n    info: {\n        message: string\n        susccess: boolean\n    }\n    publication: iPublication\n}\n\n\n/**\n * The shape of a Resource instance (an Author, Publication,.. instance)\n */\nexport interface IResource {\n    type: string\n    url: string\n    id: string\n    data(): Object\n    isValid(): boolean\n}\n/**\n * Minimum shape of backend data (resource)\n * from which we make resources\n */\nexport interface IBackendData {\n    type: string\n    url: string\n    id: string\n    name?: string\n}\n\n\n/**\n * Base class representing a resource, it is the basis for:\n * - Author\n * - Publication\n * - Article\n * - Comment\n */\nexport class Resource {\n    type: string\n    url: string\n    id: string\n\n    constructor(data: IResourceData) {\n        this.url = data.url\n        this.id = data.id\n    }\n}\n\nexport class Author extends Resource implements IResource {\n    name: string\n    nameText: string\n    about: string\n    aboutText: string\n    imageUrl: string\n    publications: Publication[] = []\n    deleted: boolean\n    created: number\n    updated: number\n\n    constructor(data: AuthorData) {\n        super(data)\n        this.type = 'author'\n        this.name = data.nameText\n        this.nameText = data.nameText\n        this.about = data.about\n        this.aboutText = data.aboutText\n        this.imageUrl = data.imageUrl\n        this.deleted = data.deleted\n        this.created = data.created\n        this.updated = data.updated\n\n        for (let publication of data.publications) {\n            this.publications.push(new Publication(publication))\n        } \n\n    }\n\n    /** The data this resources puts/posts to the backend */\n    data() {\n        return {\n            name: this.name,\n            nameText: this.nameText,\n            about: this.about,\n            aboutText: this.aboutText,\n            imageUrl: this.imageUrl,\n        }\n    }\n    /**\n     * data validation (expand, refactor)\n     */\n    isValid() {\n        if (!this.nameText || this.nameText === '') {\n            return false\n        } else {\n            return true\n        }\n    }\n\n    /**\n     * Creates and returns a 'New Author' instance\n     */\n    static createNew(): Author {\n        let data: AuthorData = {\n            id: 'new',\n            url: 'http://localhost:8080/author/new',\n            name: '',\n            nameText: '',\n            about: '',\n            aboutText: '',\n            imageUrl: '',\n            deleted: false,\n            publications: [],\n        }\n        return new this(data)\n    }\n}\n\nexport class Publication extends Resource implements IResource {\n    name: string\n    nameText: string\n    about: string\n    aboutText: string\n    imageUrl: string\n    // related\n    articles: Article[] = []\n\n    constructor(data: PublicationData) {\n        super(data)\n        this.type = 'publication'\n        this.name = data.name\n        this.nameText = data.nameText\n        this.about = data.about\n        this.aboutText = data.aboutText\n        // construct related\n        for (let articleData of data.articles) {\n            this.articles.push(new Article(articleData))\n        }\n    }\n\n    data() {\n        return {\n            name: this.name,\n            about: this.about,\n        }\n    }\n\n    isValid() {\n        return true\n    }\n}\n\nexport class Article extends Resource implements IResource {\n    title: string\n    titleText: string\n    body: string\n    bodyText: string\n\n    constructor(data: ArticleData) {\n        super(data)\n        this.title = data.title\n        this.titleText = data.titleText\n        this.body = data.body\n        this.bodyText = data.bodyText\n    }\n\n    data() {\n        return {}\n    }\n    isValid() {\n        return true\n    }\n}\n\n/** some duplication here */\n/**\n * The shape of data we can use to create a resource\n */\nexport interface IResourceData {\n    url: string\n    id: string\n}\n\ninterface ResourceData {\n    url: string\n    id: string\n}\n\nexport interface AuthorData extends ResourceData {\n    name: string\n    nameText: string\n    about: string\n    aboutText: string\n    imageUrl: string\n    publications: PublicationData[]\n    deleted: boolean\n    created?: number\n    updated?: number\n}\n\nexport interface PublicationData extends ResourceData {\n    name: string\n    nameText: string\n    about: string\n    aboutText: string\n    imageUrl: string\n    articles: ArticleData[]\n}\n\nexport interface ArticleData extends ResourceData {\n    title: string\n    titleText: string\n    body: string\n    bodyText: string\n}\n\nexport interface ServerError {\n    status: number\n    statusText: string\n    _body: string\n}\n\nexport interface ValidationError {\n    status: number\n    statusText: string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models.ts","import { Injectable } from '@angular/core'\nimport { Http, Headers, RequestOptions, Response } from '@angular/http'\nimport { Observable } from 'rxjs/Observable'\nimport 'rxjs/add/operator/map'\n\n// graphql\nimport gql from 'graphql-tag'\nimport { Apollo } from 'apollo-angular'\n\n// ink services\nimport { UIService } from './ui.service'\nimport { environment } from '../environments/environment'\n\n\nimport {\n  PublicationData,\n  IBackendData, IResource, Author, AuthorData, Publication, Resource\n} from './models'\n\nimport { iPublication } from './publication/publication.component'\nimport { iAccount } from './auth-page/auth-page.component'\n\n\n/** clean up typings */\nimport { iPublicationResponse } from './models'\nexport interface iInfo {\n  success: boolean\n  message: string\n}\nexport interface iArticle {\n  id: string\n  title: string\n}\n\n\n\n\n@Injectable()\nexport class BackendService {\n\n  backendHost: string = environment.backend\n  backendDelay: number = 0\n\n  /* the object containing everything by the current user */\n  userAccount: iAccount\n  userImages: any[]\n\n\n  fragments = {\n    account: gql`\n      fragment account on AccountSchema {\n        email\n        verified\n        authenticated\n        jwt\n\n        authors {\n          id\n          name\n          about\n          imageURL\n          publications {\n            id\n            name\n            about\n            imageURL\n            author {\n              id\n              name\n            }\n            articles {\n              id\n              title\n              bodyOps\n              publication {\n                id\n                name\n                imageURL\n                author {\n                  id\n                  name\n                  imageURL\n                }\n              }\n            }\n          }\n        }\n      }\n    `,\n    info: gql`\n      fragment info on InfoSchema {\n        success\n        message\n      }\n    `,\n    author: gql`\n      fragment author on AuthorSchema {\n        id\n        name\n        about\n        imageURL\n      }\n    `,\n    publication: gql`\n      fragment publication on PublicationSchema {\n        id\n        name\n        about\n        imageURL\n      }\n    `,\n    article: gql`\n      fragment article on ArticleSchema {\n        id\n        title\n      }\n    `\n  }\n\n\n  constructor(\n    private http: Http,\n    private apollo: Apollo,\n\n    private ui: UIService,\n  ) {\n    //this.epLogin('xxhoff@hoff.com', 'hoffi')\n\n    const jwt = localStorage.getItem('jwt')\n    if (!jwt) {\n      console.log('no jwt in local storage! not signed in!')\n    }\n    else {\n      this.jwtLogin().subscribe(info => {\n        console.log('jwt reply', info)\n        // we don't care about the response here\n      }, error => {\n        console.warn(error)\n      })\n      this.loadImages(jwt)\n    }\n  }\n\n  /** Load User Images */\n  loadImages(jwt: string) {\n    const query = gql`\n      {images(jwt:\"${jwt}\"){\n        url\n        id\n      }}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      forceFetch: true\n    })\n    apolloQuery.subscribe(result => {\n      this.userImages = JSON.parse(JSON.stringify(result.data.images))\n    })\n\n  }\n\n  /**\n   * Email / Password Login\n   */\n  epLogin(email: string, password: string): Observable<any> {\n    const endpoint = 'epLogin'\n    const query = gql`\n      {\n        ${endpoint} {\n          info {\n            ...info\n          }\n          account {\n            ...account\n          }\n        }\n      }\n      ${this.fragments.account}\n      ${this.fragments.info}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        email: email,\n        password: password,\n      },\n      forceFetch: true\n    })\n\n    return new Observable(stream => {\n      apolloQuery.delay(this.backendDelay).subscribe(result => {\n        const info = result.data[endpoint].info\n        if (info.success) {\n          const account = result.data[endpoint].account\n          //this.userAccount = account\n          this.userAccount = Object.assign({}, account)\n          console.log('user account is now', this.userAccount)\n          localStorage.setItem('jwt', account.jwt)\n        }\n        // in any case return the info!\n        stream.next(info)\n      })\n    })\n  }\n\n\n  /**\n   * Verify and email with token (usually by following email link)\n   */\n  verifyEmail(email: string, token: string) {\n    const query = gql`\n      {verifyEmail(email:\"${email}\", token:\"${token}\"){\n        info {...info}\n        account {...account}\n      }}\n      ${this.fragments.account}\n      ${this.fragments.info}\n    `\n    const querySub = this.apollo.watchQuery<any>({\n      query: query,\n    })\n    return new Observable<iAccount>(stream => {\n      querySub.delay(this.backendDelay).subscribe(result => {\n        const account = result.data.verifyEmail // this contains all listed in fragment\n        this.userAccount = account\n        // duplicate with jwt and all...\n        this.userAccount = JSON.parse(JSON.stringify(account))\n        stream.next(account)\n      },\n        error => {\n          alert('apollo query error: verify email')\n          stream.error('error verifying account')\n        })\n    })\n\n\n  }\n\n  logoutUser() {\n    localStorage.removeItem('jwt')\n    this.userAccount = {\n      authenticated: false,\n      verified: false,\n      email: '',\n      authors: [],\n    }\n  }\n\n  /**\n   * Authentication with jwt token from localStorage\n   */\n  jwtLogin(): Observable<any> {\n    console.log('attempting jwt login')\n    const endpoint = 'jwtLogin'\n    const jwt = localStorage.getItem('jwt')\n    const query = gql`\n    {jwtLogin(jwt: \"${jwt}\") {\n      info {\n          ...info\n        }\n        account {\n          ...account\n        }\n    }}\n    ${this.fragments.account}\n    ${this.fragments.info}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      forceFetch: true,\n      // consider sticking jwt into variables \n    })\n\n    return new Observable(stream => {\n      apolloQuery.delay(this.backendDelay).subscribe(result => {\n        const info = result.data[endpoint].info\n        if (info.success) {\n          /* include authors! and all the other things! */\n          const account = result.data[endpoint].account\n          // duplicate in epLogin and all...\n          this.userAccount = JSON.parse(JSON.stringify(account))\n          localStorage.setItem('jwt', account.jwt)\n        }\n        // in any case return the info!\n        stream.next(info)\n      })\n    })\n  }\n\n  test() {\n    return new Observable(stream => {\n      const query = gql`{test}`\n      const wq = this.apollo.query({ query: query, forceFetch: true })\n      wq.subscribe(result => {\n        console.log(result.data)\n      })\n    }).subscribe(jo => { return })\n\n\n  }\n\n  /**\n   * ACCOUNT CREATION with email and password\n   * If successful, returns an iAccount, and also sets it as the userAccount\n   */\n  createAccount(email: string, password: string): Observable<any> {\n\n    //alert('backend create account call starting')\n    const endpoint = 'createAccount'\n    const query = gql`\n    {${endpoint} {\n        info {\n            ...info\n          }\n          account {\n            ...account\n          }\n    }}\n    ${this.fragments.account}\n    ${this.fragments.info}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        email: email,\n        password: password,\n      },\n      forceFetch: true,\n    })\n\n    return new Observable<iAccount>(stream => {\n      apolloQuery.delay(this.backendDelay).subscribe(result => {\n        const info = result.data[endpoint].info\n        if (info.success) {\n          const account = result.data[endpoint].account\n          this.userAccount = account\n          localStorage.setItem('jwt', account.jwt)\n        }\n        // in any case return the info!\n        stream.next(info)\n      },\n        // un-expected Backend error\n        (error) => {\n          stream.error('un-expected backend error')\n        })\n    })\n  }\n\n\n  /** new kid */\n  saveAuthor(author: any) {\n    const jwt = localStorage.getItem('jwt')\n    const query = gql`\n      {saveAuthor {\n        info {\n          ...info\n        }\n        author {\n          id\n        }\n      }}\n      ${this.fragments.info}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        jwt: jwt,\n        authorID: author.id,\n        name: author.name,\n        about: author.about,\n        imageURL: author.imageURL\n      },\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      apolloQuery.subscribe(result => {\n        console.log('backend saved author, result', result)\n        stream.next(result.data.saveAuthor)\n      })\n    })\n  }\n\n\n  /** GET OR LOAD AUTHOR */\n  getAuthor(authorID: string) {\n    // check locally: ToDo!\n    const query = gql`\n      {author {\n        id, name, about, imageURL\n      }}\n    `\n    const querySubscription = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        authorID: authorID,\n      },\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      querySubscription.subscribe(result => {\n        const author = result.data.author\n        stream.next(author)\n      },\n        error => {\n          stream.error('error getting author')\n        })\n    })\n  }\n\n\n  deleteAuthor(authorID): Observable<iInfo> {\n    /**\n     * Deletes an Author, removes it from the userAccount's authors, \n     * and returns information about the status\n     */\n    const jwt = localStorage.getItem('jwt')\n    const query = gql`\n      {deleteAuthor(jwt:\"${jwt}\", authorID: \"${authorID}\"){\n        ...info\n      }}\n      ${this.fragments.info}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      apolloQuery.subscribe(result => {\n        const info = result.data.deleteAuthor\n        let authors = this.userAccount.authors\n        if (info.success) {\n          // remove author from userAccount's authors\n          authors = authors.filter(author => author.id !== authorID)\n          this.userAccount.authors = authors\n        }\n        stream.next(info)\n      })\n    })\n  }\n\n\n  /**\n   * GET a single Publication, from cache or backend\n   */\n  getPublication(authorID: string, publicationID: string): Observable<iPublication> {\n\n    const query = gql`\n        {publication {\n          id\n          name\n          about\n          imageURL\n          author {\n            id\n            name\n            about\n            imageURL\n          }\n          articles {\n            id\n            title\n            bodyOps\n            publication {\n              id\n              name\n              author {\n                name\n                id\n              }\n            }\n          }\n        }}\n      `\n    const querySubscription = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        authorID: authorID,\n        publicationID: publicationID\n      },\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      querySubscription.subscribe(result => {\n        const publication = result.data.publication\n        stream.next(publication)\n      },\n        error => {\n          stream.error('error getting publication')\n        })\n    })\n  }\n\n  /**\n   * SAVE PUBLICATION (new or existing)\n   */\n  savePublication(publication): Observable<iInfo> {\n    const jwt = localStorage.getItem('jwt')\n    const query = gql`\n      {\n       savePublication {\n          publication {\n            ...publication\n            author {\n              ...author\n            }\n          }\n          info {\n            ...info\n          }\n        }\n      }\n      ${this.fragments.info}\n      ${this.fragments.publication}\n      ${this.fragments.author}\n    `\n    const querySubscription = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        jwt: jwt,\n        authorID: publication.author.id,\n        publicationID: publication.id,\n        name: publication.name,\n        about: publication.about,\n        imageURL: publication.imageURL,\n      },\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      querySubscription.subscribe(result => {\n        const publication: iPublication = result.data.savePublication.publication\n        const info = result.data.savePublication.info\n        // pass back the whole response\n        stream.next(result.data.savePublication)\n      },\n        error => {\n          stream.error('error saving publication')\n        })\n    })\n  }\n\n  /**\n   * SAVE ARTICLE - create new / update existing!\n   */\n  saveArticle(authorID: string, publicationID: string, articleID: string, article): Observable<any> {\n    console.log('save article', article)\n    const jwt = localStorage.getItem('jwt')\n    const endpoint = 'saveArticle'\n    const query = gql`\n      {\n        ${endpoint} {\n          info {\n            ...info\n          }\n          article {\n            ...article\n            publication {\n              ...publication\n              author {\n                ...author\n              }\n            }\n          }\n        }\n      }\n      ${this.fragments.article}\n      ${this.fragments.publication}\n      ${this.fragments.author}\n      ${this.fragments.info}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        jwt: jwt,\n        authorID: authorID,\n        publicationID: publicationID,\n        articleID: articleID,\n        title: article.title,\n        bodyOps: article.bodyOps\n      },\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      apolloQuery.subscribe(result => {\n        const article = result.data[endpoint].article\n        const info = result.data[endpoint].info\n\n        const reply = result.data[endpoint]\n        console.log('backend saved article, result', result)\n        stream.next(reply)\n      })\n    })\n  }\n\n  deleteArticle(article): Observable<iInfo> {\n    console.log(article)\n    console.log('be delete', article)\n    const jwt = localStorage.getItem('jwt')\n    const query = gql`\n      {deleteArticle {\n         ...info\n      }}\n       ${this.fragments.info}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        jwt: jwt,\n        authorID: article.publication.author.id,\n        publicationID: article.publication.id,\n        articleID: article.id\n      },\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      apolloQuery.subscribe(result => {\n        const info = result.data.deleteArticle\n        stream.next(info)\n      })\n    })\n  }\n\n  getArticle(authorID: string, publicationID: string, articleID: string) {\n    /** now, we load the path up to author. */\n    const query = gql`\n      {article {\n        id\n        title\n        bodyOps\n        publication {\n          id\n          name\n          about\n          imageURL\n          author {\n            id\n            name\n            about\n            imageURL\n          }\n        }\n      }}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        authorID: authorID,\n        publicationID: publicationID,\n        articleID: articleID,\n      },\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      apolloQuery.subscribe(result => {\n        console.log('get article result', result)\n        stream.next(result.data.article)\n      })\n    })\n  }\n\n\n  deletePublication(publication: iPublication): Observable<iInfo> {\n    /**\n     * Deletes a publication, removes it from the respetive's userAccount's author's publications TODO, \n     * and returns information about the status\n     */\n    const jwt = localStorage.getItem('jwt')\n    const query = gql`\n      {deletePublication {\n        ...info\n      }}\n      ${this.fragments.info}\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      variables: {\n        jwt: jwt,\n        authorID: publication.author.id,\n        publicationID: publication.id,\n      },\n      forceFetch: true,\n    })\n    return new Observable(stream => {\n      apolloQuery.subscribe(result => {\n        const info = result.data.deletePublication\n        let authors = this.userAccount.authors\n        if (info.success) {\n          // TODO\n          // remove publication from userAccount's author's publications\n          //authors = authors.filter(author => author.id !== authorID)\n          //this.userAccount.authors = authors\n        }\n        stream.next(info)\n      })\n    })\n  }\n\n\n\n  /**\n   * IMAGE UPLOAD\n   */\n  uploadFile(file: File): Observable<any> {\n    let jwt = localStorage.getItem('jwt')\n    if (!jwt) {\n      alert('no jwt in upload file handler! ui needs to prevent this')\n      return\n    }\n\n    return Observable.create(progressStream => {\n\n      let formData: FormData = new FormData()\n      let xhr: XMLHttpRequest = new XMLHttpRequest()\n\n      // uploads[] is how we pick things up in the backend\n      formData.append('uploads[]', file, file.name)\n      formData.append('jwt', jwt)\n\n      /** on progress, push to stream! */\n      xhr.addEventListener('progress', event => {\n        let percent = Math.ceil((event.loaded / event.total) * 100)\n        progressStream.next(percent)\n      })\n\n      /** listen to a success message from the server */\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4) {\n          if (xhr.status === 200) {\n            let imageInfo = JSON.parse(xhr.response)\n            progressStream.next(100)\n            //progressStream.next(JSON.parse(xhr.response));\n            progressStream.complete() // next would also be an option...\n            // we should pass the server response down stream!\n            console.log('wanna add', imageInfo)\n            this.userImages.unshift(imageInfo)\n          } else {\n            // on error - what do they look like?\n            progressStream.error(xhr.response);\n          }\n        }\n      }\n      // request an upload URL, then kick off upload!\n      this.http.get(this.backendHost + '/image/upload-url').map(res => { return res.json() }).subscribe(data => {\n        xhr.open('POST', data.url, true)\n        xhr.send(formData);\n      })\n    })\n  }\n\n  deleteImage(id: string) {\n    const query = gql`\n      {\n        deleteImage(id: \"${id}\") {\n          message\n        }\n      }\n    `\n    const apolloQuery = this.apollo.watchQuery<any>({\n      query: query,\n      forceFetch: true\n    })\n    return new Observable(stream => {\n      apolloQuery.subscribe(result => {\n        stream.next(result.data.deleteImage.message)\n        alert(result.data.deleteImage.message)\n      })\n\n\n    }).subscribe()\n\n  }\n\n\n  /**\n   * Creates a resource, via PUT\n   */\n  putResource(resource: IResource): Observable<AuthorData | PublicationData> {\n    if (resource.isValid()) {\n      // go ahead and PUT\n      return this.http.put(resource.url, resource.data(), this.defaultOptions()).map(res => res.json())\n    } else {\n      // return validation error, via subscription\n      return Observable.create(input => { input.error({ status: 999 }) })\n    }\n  }\n\n  /**\n   * Updates a resource, via POST\n   */\n  postResource(resource: IResource): Observable<AuthorData | PublicationData> {\n    if (resource.isValid()) {\n      // go ahead and POST\n      return this.http.post(resource.url, resource.data(), this.defaultOptions()).map(res => res.json())\n    } else {\n      // return validation error, via subscription\n      return Observable.create(input => { input.error({ status: 999 }) })\n    }\n  }\n  /**\n   * Deletes a resource, via DELETE\n   */\n  deleteResource(resource: IResource): Observable<AuthorData | PublicationData> {\n    return this.http.delete(resource.url, this.defaultOptions()).map(res => res.json())\n  }\n\n  /**\n   * Gets a resource, given its IDs\n   * -authorID (required)\n   * -publicationID\n   * -articleID\n   */\n  getResourceByIDs(authorID: string, publicationID?: string, articleID?: string) {\n    let url = this.backendHost + '/author/' + authorID\n    url += publicationID ? `/publication/${publicationID}` : ''\n    url += articleID ? `/article/${articleID}` : ''\n    return this.http.get(url, this.defaultOptions()).map(res => res.json())\n  }\n\n  /**\n   * Gets a resource from a given URL\n   */\n  getResourceByUrl(url: string): Observable<AuthorData | PublicationData> {\n    return this.http.get(url, this.defaultOptions()).map(res => res.json())\n  }\n\n  /** \n   * Gets a list of resource from a given URL\n   */\n  getResourcesByUrl(url: string): Observable<IBackendData[]> {\n    return this.http.get(url, this.defaultOptions()).map(res => res.json())\n  }\n\n  /**\n   * Returns RequestOptions of content-type: json, withCredentials: true\n   */\n  defaultOptions(): RequestOptions {\n    let headers = new Headers({ 'Content-Type': 'application/json' })\n    return new RequestOptions({ headers: headers, withCredentials: true })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/backend.service.ts","import { Injectable } from '@angular/core'\nimport { DomSanitizer} from '@angular/platform-browser'\n\nimport { Observable, Subscribable } from 'rxjs/Observable'\nimport 'rxjs/Rx'\n\nimport { ServerError, ValidationError } from './models'\n\n@Injectable()\nexport class UIService {\n\n  message: string\n\n  colors = {\n    black: '#000',\n    white: '#fff',\n\n    lightblue: 'lightblue',\n    lightgreen: 'lightgreen',\n    lightred: '#c58a68',\n    lightyellow: 'lightyellow',\n    lightgray: 'lightgray',\n\n    debug: false,\n  }\n\n  bg = {\n    hero1: 'url'\n  }\n  endlessBG =  \"background-color: #1a1a1a;\"\n  endless = `url(\"data:image/svg+xml,%3Csvg width='56' height='28' viewBox='0 0 56 28' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M56 26c-2.813 0-5.456.726-7.752 2H56v-2zm-26 2h4.087C38.707 20.783 46.795 16 56 16v-2c-.672 0-1.339.024-1.999.07L54 14a2 2 0 0 1 2-2v-2a4 4 0 0 0-3.98 3.602 28.087 28.087 0 0 0-2.793-3.862A7.994 7.994 0 0 1 56 6V4a9.988 9.988 0 0 0-8.17 4.232 28.156 28.156 0 0 0-3.03-2.634A13.979 13.979 0 0 1 56 0h-7.752a16.078 16.078 0 0 0-5.09 4.454 27.941 27.941 0 0 0-3.536-1.936c.63-.896 1.33-1.738 2.095-2.518H39.03c-.46.557-.893 1.137-1.297 1.737A27.787 27.787 0 0 0 33.723.585c.12-.196.24-.392.364-.585H30l-.001.07A28.406 28.406 0 0 0 26 .07L26 0h-4.087c.124.193.245.389.364.585a27.787 27.787 0 0 0-4.009 1.152c-.404-.6-.837-1.18-1.297-1.737h-2.688c.764.78 1.466 1.622 2.095 2.518-1.23.562-2.41 1.21-3.536 1.936A16.078 16.078 0 0 0 7.752 0H0c4.58 0 8.645 2.199 11.2 5.598a28.156 28.156 0 0 0-3.03 2.634A9.988 9.988 0 0 0 0 4v2a7.994 7.994 0 0 1 6.773 3.74 28.087 28.087 0 0 0-2.793 3.862A4 4 0 0 0 0 10v2a2 2 0 0 1 1.999 2.07C1.339 14.024.672 14 0 14v2c9.205 0 17.292 4.783 21.913 12H26a2 2 0 1 1 4 0zM7.752 28C5.456 26.726 2.812 26 0 26v2h7.752zM56 20c-6.832 0-12.936 3.114-16.971 8h2.688A19.94 19.94 0 0 1 56 22v-2zm-39.029 8C12.936 23.114 6.831 20 0 20v2a19.94 19.94 0 0 1 14.283 6h2.688zm15.01-.398a28.087 28.087 0 0 1 2.792-3.862A7.994 7.994 0 0 0 28 20a7.994 7.994 0 0 0-6.773 3.74 28.087 28.087 0 0 1 2.793 3.862 4 4 0 0 1 7.96 0zm14.287-11.865C42.318 9.864 35.61 6 28 6c-7.61 0-14.318 3.864-18.268 9.737a27.787 27.787 0 0 0-4.009-1.152C10.275 7.043 18.548 2 28 2c9.452 0 17.725 5.043 22.277 12.585a27.787 27.787 0 0 0-4.009 1.152zm-5.426 2.717a27.941 27.941 0 0 1 3.536-1.936C40.76 11.367 34.773 8 28 8s-12.76 3.367-16.378 8.518c1.23.562 2.41 1.21 3.536 1.936C18.075 14.537 22.741 12 28 12s9.925 2.537 12.842 6.454zm-4.672 3.778a28.156 28.156 0 0 1 3.03-2.634A13.979 13.979 0 0 0 28 14c-4.58 0-8.645 2.199-11.2 5.598a28.156 28.156 0 0 1 3.03 2.634A9.988 9.988 0 0 1 28 18a9.988 9.988 0 0 1 8.17 4.232z' fill='%23fffffb' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E\")\n  `\n\n  url = `data:image/svg+xml,%3Csvg width='56' height='28' viewBox='0 0 56 28' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M56 26c-2.813 0-5.456.726-7.752 2H56v-2zm-26 2h4.087C38.707 20.783 46.795 16 56 16v-2c-.672 0-1.339.024-1.999.07L54 14a2 2 0 0 1 2-2v-2a4 4 0 0 0-3.98 3.602 28.087 28.087 0 0 0-2.793-3.862A7.994 7.994 0 0 1 56 6V4a9.988 9.988 0 0 0-8.17 4.232 28.156 28.156 0 0 0-3.03-2.634A13.979 13.979 0 0 1 56 0h-7.752a16.078 16.078 0 0 0-5.09 4.454 27.941 27.941 0 0 0-3.536-1.936c.63-.896 1.33-1.738 2.095-2.518H39.03c-.46.557-.893 1.137-1.297 1.737A27.787 27.787 0 0 0 33.723.585c.12-.196.24-.392.364-.585H30l-.001.07A28.406 28.406 0 0 0 26 .07L26 0h-4.087c.124.193.245.389.364.585a27.787 27.787 0 0 0-4.009 1.152c-.404-.6-.837-1.18-1.297-1.737h-2.688c.764.78 1.466 1.622 2.095 2.518-1.23.562-2.41 1.21-3.536 1.936A16.078 16.078 0 0 0 7.752 0H0c4.58 0 8.645 2.199 11.2 5.598a28.156 28.156 0 0 0-3.03 2.634A9.988 9.988 0 0 0 0 4v2a7.994 7.994 0 0 1 6.773 3.74 28.087 28.087 0 0 0-2.793 3.862A4 4 0 0 0 0 10v2a2 2 0 0 1 1.999 2.07C1.339 14.024.672 14 0 14v2c9.205 0 17.292 4.783 21.913 12H26a2 2 0 1 1 4 0zM7.752 28C5.456 26.726 2.812 26 0 26v2h7.752zM56 20c-6.832 0-12.936 3.114-16.971 8h2.688A19.94 19.94 0 0 1 56 22v-2zm-39.029 8C12.936 23.114 6.831 20 0 20v2a19.94 19.94 0 0 1 14.283 6h2.688zm15.01-.398a28.087 28.087 0 0 1 2.792-3.862A7.994 7.994 0 0 0 28 20a7.994 7.994 0 0 0-6.773 3.74 28.087 28.087 0 0 1 2.793 3.862 4 4 0 0 1 7.96 0zm14.287-11.865C42.318 9.864 35.61 6 28 6c-7.61 0-14.318 3.864-18.268 9.737a27.787 27.787 0 0 0-4.009-1.152C10.275 7.043 18.548 2 28 2c9.452 0 17.725 5.043 22.277 12.585a27.787 27.787 0 0 0-4.009 1.152zm-5.426 2.717a27.941 27.941 0 0 1 3.536-1.936C40.76 11.367 34.773 8 28 8s-12.76 3.367-16.378 8.518c1.23.562 2.41 1.21 3.536 1.936C18.075 14.537 22.741 12 28 12s9.925 2.537 12.842 6.454zm-4.672 3.778a28.156 28.156 0 0 1 3.03-2.634A13.979 13.979 0 0 0 28 14c-4.58 0-8.645 2.199-11.2 5.598a28.156 28.156 0 0 1 3.03 2.634A9.988 9.988 0 0 1 28 18a9.988 9.988 0 0 1 8.17 4.232z' fill='%23fffffb' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E`\n  \n\n  trustedBG = this.sanitizer.bypassSecurityTrustResourceUrl(this.endless)\n  trustedURL = this.sanitizer.bypassSecurityTrustUrl(this.url)\n\n  pad: number = 30\n\n  style = {\n    'background-image': `url(${this.trustedURL})`,\n    'background-color': 'black',\n  }\n\n  mediaBar: boolean = false\n  mediaClickStream: any\n  mediaClickObservable: Subscribable<any>\n\n  constructor(\n    private sanitizer: DomSanitizer,\n  ) { \n    // keyboard shortcuts\n    Observable.fromEvent(window, 'keydown').subscribe((event: KeyboardEvent) => {\n    \n      //console.log(event.keyCode)\n      // toggle media bar\n      if ((event.metaKey || event.ctrlKey) && event.keyCode === 77) { /*ctrl s */\n        this.mediaBar = !this.mediaBar\n        event.preventDefault()\n      }\n    })\n\n    this.mediaClickObservable = new Observable(stream => {\n      this.mediaClickStream = stream\n    }).share()\n    this.mediaClickObservable.subscribe(image => {\n      console.log('media bar image clicked', image)\n    })\n\n\n  }\n\n  handleError(error: ServerError | ValidationError) {\n    console.log(error)\n    alert('error: ' + error.status)\n  }\n\n  flashMessage(message: string) {\n    this.message = message\n    setTimeout(() => {this.message = ''}, 1000)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ui.service.ts","import { Component, OnInit, Input, ViewChild, ElementRef } from '@angular/core'\n\n// ink\nimport { iArticle } from '../models'\n\nimport { UIService } from '../ui.service'\n\n\n\n@Component({\n  selector: 'app-article',\n  templateUrl: './article.component.html',\n  styleUrls: ['./article.component.css']\n})\nexport class ArticleComponent implements OnInit {\n\n  @Input() article: iArticle\n  @Input() editable: boolean = false\n  @Input() preview: boolean = false\n\n  @ViewChild('editor') editor: ElementRef\n  @ViewChild('hidden') hidden: ElementRef\n\n  quill: any\n  lastRange: any\n\n  constructor(\n    private ui: UIService,\n  ) { }\n\n  ngOnInit() {\n    /* check your input */\n    if (!this.article.publication || !this.article.publication.author) {\n      alert('inputs fucked')\n    }\n\n    this.makeQuill()\n    this.ui.mediaClickObservable.subscribe(image => {\n      //this.insertImage(image.url + '&w=700')\n    })\n  }\n\n  makeQuill() {\n\n    let modules\n    if (this.editable) {\n      console.log('editbale article!')\n      modules = {\n        toolbar: {\n          container: document.getElementById('toolbar'),\n          //handlers: {'image': this.titleImageHandler},\n        },\n      }\n    } else {\n      console.log('making quill with hidden toolbar', this.hidden.nativeElement)\n      modules = {\n        toolbar: {\n          container: this.hidden.nativeElement,\n          //handlers: {'image': this.titleImageHandler},\n        },\n    }\n    }\n\n    this.quill = new Quill(this.editor.nativeElement, {\n      modules: modules,\n      theme: 'snow',\n      placeholder: 'here is where you lay your words down...',\n    })\n\n    let ops\n    try {\n      ops = JSON.parse(this.article.bodyOps)\n      if (this.preview) {\n        let OpsObs = ops.ops.slice(0,5)\n        ops.ops = OpsObs\n      }\n    } catch (e) {\n      console.log('error parsing json, this is the offender:', this.article.bodyOps)\n      ops = { \"ops\": [{ \"insert\": \"error parsing json\\n\" }] }\n    }\n\n    this.quill.setContents(ops)\n    if (!this.editable) {\n      this.quill.disable()\n    }\n\n    this.quill.on('text-change', (delta, oldDelta, source) => {\n      /* \n      keep the article bodyOps property in sync, for saving.\n      */\n      this.article.bodyOps = JSON.stringify(this.quill.getContents())\n      this.lastRange = this.quill.getSelection()\n    })\n  }\n\n  insertImage(url: string) {\n    this.quill.insertEmbed(this.lastRange.index, 'image', url, 'user')\n  }\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/article/article.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 473;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 473\n// module chunks = 1","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\nimport { enableProdMode } from '@angular/core'\nimport { environment } from './environments/environment'\nimport { AppModule } from './app/app.module'\n\nif (environment.production) {\n  enableProdMode()\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, OnInit } from '@angular/core'\nimport { BackendService } from '../backend.service'\n\n@Component({\n  selector: 'app-account-page',\n  templateUrl: './account-page.component.html',\n  styleUrls: ['./account-page.component.css']\n})\nexport class AccountPageComponent implements OnInit {\n\n  constructor(\n    private backend: BackendService,\n  ) { }\n\n  ngOnInit() {\n    // force reload of data\n    this.backend.jwtLogin().subscribe()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/account-page/account-page.component.ts","import { Component } from '@angular/core'\n\n// Services\nimport { BackendService } from './backend.service'\nimport { UIService } from './ui.service'\n\nimport { environment } from '../environments/environment'\n\n// RX\nimport { Observable } from 'rxjs/Observable'\nimport { Subscription } from 'rxjs/Subscription'\nimport 'rxjs/Rx'\n\n// Models (old remove)\nimport { \n  Author,\n  AuthorData,\n} from './models'\n\n// Declarations\ndeclare function stopTimer(timestamp: number): void\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  public: boolean\n\n  constructor(\n    private backend: BackendService,\n    private ui: UIService,\n  ) {\n    let now = new Date().getTime()\n    stopTimer(now)\n\n    this.public = environment.public\n    console.log('app environment', environment)\n\n    // observe keyboard\n    Observable.fromEvent(window, 'keydown').subscribe((event: KeyboardEvent) => {\n      if ((event.metaKey || event.ctrlKey) && event.keyCode === 27) {\n        // cmd + escape\n        this.public = !this.public\n        event.preventDefault()\n      } \n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser'\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { HttpModule } from '@angular/http'\nimport { RouterModule, Routes } from '@angular/router'\n\n\nimport { AppComponent } from './app.component'\nimport { BackendService } from './backend.service'\nimport { AuthorComponent } from './author/author.component'\nimport { SlugifyPipe } from './slugify.pipe'\nimport { StringifyPipe } from './stringify.pipe'\nimport { UIService } from './ui.service'\nimport { AuthorPageComponent } from './author-page/author-page.component'\nimport { HomePageComponent } from './home-page/home-page.component'\nimport { PublicationPageComponent } from './publication-page/publication-page.component'\nimport { ArticlePageComponent } from './article-page/article-page.component';\nimport { PublicationComponent } from './publication/publication.component';\nimport { ArticleComponent } from './article/article.component'\n\nimport { ApolloClient, createNetworkInterface } from 'apollo-client'\nimport { ApolloModule } from 'apollo-angular'\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AuthPageComponent } from './auth-page/auth-page.component';\nimport { EmailVerificationPageComponent } from './email-verification-page/email-verification-page.component';\nimport { MePageComponent } from './me-page/me-page.component';\nimport { LayoutComponent } from './layout/layout.component';\nimport { AccountPageComponent } from './account-page/account-page.component';\nimport { BottomBarComponent } from './bottom-bar/bottom-bar.component';\nimport { FileDropComponent } from './file-drop/file-drop.component';\nimport { AutosizeDirective } from './autosize.directive';\nimport { MediaPageComponent } from './media-page/media-page.component'\n\nimport { environment } from '../environments/environment'\n\n\nconst apolloClient = new ApolloClient({\n  networkInterface: createNetworkInterface({\n    uri: environment.backend + '/graphql'\n  }),\n})\n\nexport function provideClient(): ApolloClient {\n  return apolloClient\n}\n\n\nconst appRoutes: Routes = [\n  //{ path: '', component: LayoutComponent },\n  { path: '', component: HomePageComponent },\n  // pages\n  //{ path: 'me', component: MePageComponent},\n  { path: 'my-account', component: AccountPageComponent},\n  { path: 'my-media', component: MediaPageComponent },\n  { path: 'auth', component: AuthPageComponent },\n  { path: 'verify/:email/:token', component: EmailVerificationPageComponent},\n  \n  // graph\n  { path: ':authorID', component: AuthorPageComponent },\n  { path: ':authorID/:publicationID', component: PublicationPageComponent },\n  { path: ':authorID/:publicationID/:articleID', component: ArticlePageComponent },\n  //{ path: '**', component: PageNotFoundComponent }\n]\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    AuthorComponent,\n    SlugifyPipe,\n    StringifyPipe,\n    AuthorPageComponent,\n    HomePageComponent,\n    PublicationPageComponent,\n    ArticlePageComponent,\n    PublicationComponent,\n    ArticleComponent,\n    AuthPageComponent,\n    EmailVerificationPageComponent,\n    MePageComponent,\n    LayoutComponent,\n    AccountPageComponent,\n    BottomBarComponent,\n    FileDropComponent,\n    AutosizeDirective,\n    MediaPageComponent,\n  ],\n  imports: [\n    RouterModule.forRoot(appRoutes),\n    ApolloModule.forRoot(provideClient),\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpModule,\n  ],\n  providers: [BackendService, UIService],\n  bootstrap: [AppComponent],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnInit, ViewChild } from '@angular/core'\nimport { Router, ActivatedRoute } from '@angular/router'\n\nimport { Observable } from 'rxjs/Observable'\nimport { Subscription } from 'rxjs/Subscription'\nimport 'rxjs/Rx' // why?\n\nimport gql from 'graphql-tag'\nimport { Apollo } from 'apollo-angular'\n\nimport { BackendService } from '../backend.service'\nimport { UIService } from '../ui.service'\nimport { ArticleComponent } from '../article/article.component'\n\nimport { iArticle } from '../models'\n\ninterface Quill {\n  new (container: string | Element, options?: any): Quill;\n}\n\ninterface UpdateResponse {\n\n  updateArticle: {\n    article: {\n      title: string\n      teaser: string\n    }\n  }\n}\n\n@Component({\n  selector: 'app-article-page',\n  templateUrl: './article-page.component.html',\n  styleUrls: ['./article-page.component.css']\n})\nexport class ArticlePageComponent implements OnInit {\n\n  @ViewChild(ArticleComponent) articleCmp: ArticleComponent\n\n  authorID: string\n  publicationID: string\n  articleID: string\n\n  // loaded via graphql\n  data: any\n  article: iArticle\n\n  keyboardSubscription: Subscription\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private backend: BackendService,\n    private apollo: Apollo,\n    private ui: UIService,\n  ) {\n    console.log('article page constructed')\n\n    // keyboard shortcuts\n    this.keyboardSubscription = Observable.fromEvent(window, 'keydown').subscribe((event: KeyboardEvent) => {\n\n      if ((event.metaKey || event.ctrlKey) && event.keyCode === 83) { /*ctrl s */\n        // cmd + s\n        this.saveArticle()\n        event.preventDefault()\n\n      } else if ((event.metaKey || event.ctrlKey) && event.keyCode === 68) {\n        // cmd + d\n        this.deleteArticle()\n        event.preventDefault()\n      }\n    })\n  }\n\n\n  ngOnInit() {\n\n    // subscribe to media clicks\n    this.ui.mediaClickObservable.subscribe(image => {\n      this.articleCmp.insertImage(image.url + '&w=600')\n    })\n\n    // get route params\n    this.route.params.subscribe(params => {\n\n      this.authorID = params['authorID']\n      this.publicationID = params['publicationID']\n      this.articleID = params['articleID']\n\n      if (this.articleID === 'create-article') {\n        this.backend.getPublication(this.authorID, this.publicationID).subscribe(pub => {\n          this.article = {\n            id: 'create-article',\n            title: 'no title yet',\n            bodyOps: '{}',\n            publication: JSON.parse(JSON.stringify(pub))\n          }\n        })\n\n      } else {\n        this.backend.getArticle(this.authorID, this.publicationID, this.articleID).subscribe(article => {\n          this.article = JSON.parse(JSON.stringify(article))\n        })\n      }\n    })\n  }\n\n  /**\n   * Creates a new article, or updates an exisiting one\n   */\n  saveArticle(): void {\n    this.backend.saveArticle(\n      this.authorID,\n      this.publicationID,\n      this.articleID,\n      this.article).subscribe(reply => {\n        this.ui.flashMessage(reply.info.message)\n        // in case of create-article, navigate to created article\n        this.router.navigate(['/', reply.article.publication.author.id, reply.article.publication.id, reply.article.id])\n      })\n  }\n\n  /**\n   * Deletes the article\n   */\n  deleteArticle(): void {\n    this.backend.deleteArticle(this.article).subscribe(info => {\n      this.ui.flashMessage(info.message)\n      this.router.navigate(['/', this.authorID, this.publicationID])\n    })\n  }\n\n  /**\n   * on destroy: unsubscribe from keyboard\n   */\n  ngOnDestroy() {\n    console.log('article page destroyed')\n    this.keyboardSubscription.unsubscribe()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/article-page/article-page.component.ts","import { Component, OnInit } from '@angular/core'\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms'\nimport { Router } from '@angular/router'\n\n// graphql\nimport gql from 'graphql-tag'\nimport { Apollo } from 'apollo-angular'\n\nimport { BackendService } from '../backend.service'\nimport { UIService } from '../ui.service'\n\nimport 'rxjs/Rx'\n\nexport interface iAccount {\n  email: string\n  authenticated: boolean\n  verified: boolean\n  jwt?: string\n  authors: any[]\n}\n\n@Component({\n  selector: 'app-auth-page',\n  templateUrl: './auth-page.component.html',\n  styleUrls: ['./auth-page.component.css']\n})\nexport class AuthPageComponent {\n\n  // template bindings \n  registerEmail: string = ''\n  registerPassword: string = ''\n  registrationLoading: boolean = false\n\n  loginEmail: string = ''\n  loginPassword: string = ''\n  // network status\n  loginLoading: boolean = false\n\n  public loginForm = this.fb.group({\n    email: [\"\", Validators.required],\n    password: [\"\", Validators.required]\n  })\n\n  public registrationForm = this.fb.group({\n    email: [\"\", Validators.required],\n    password: [\"\", Validators.required],\n    password2: [\"\", Validators.required],\n    terms: [\"\", Validators.requiredTrue],\n  })\n\n  constructor(\n    private backend: BackendService,\n    private apollo: Apollo,\n    public fb: FormBuilder,\n    private ui: UIService,\n    private router: Router,\n  ) { }\nf\n  /**\n   * Try to authenticate with email and password\n   * If successfull, the backend's userAccount will be updated\n   * In any case, we receive the info (success and msg)\n   */\n  doLogin(event) {\n    const email = this.loginForm.value.email\n    const password = this.loginForm.value.password\n    this.loginLoading = true\n    this.backend.epLogin(email, password).subscribe(info => {\n        this.loginLoading = false\n        this.ui.message = info.message\n        if (info.success === true) {\n          this.router.navigate(['/', 'my-account'])\n        }\n      })\n    // we only care about the status. the account is handled by the backend.\n  }\n\n  /**\n   * Can only be called once the registration form is valid\n   * Receives information (success, and message) about the result\n   */\n  createAccount() {\n\n    const email = this.registrationForm.value.email\n    const password = this.registrationForm.value.password\n    this.registrationLoading = true\n\n    this.backend.createAccount(email, password).subscribe(\n      info => {\n        this.registrationLoading = false\n        this.ui.message = info.message\n        if (info.success === true) {\n          this.router.navigate(['/', 'my-account'])\n        }\n      }\n    )\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth-page/auth-page.component.ts","// Angular\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core'\nimport { Router, ActivatedRoute, Params } from '@angular/router'\n\n// RX\nimport { Observable } from 'rxjs/Observable'\nimport { Subscription } from 'rxjs/Subscription'\nimport 'rxjs/Rx'\n\n// Services\nimport { BackendService, iInfo } from '../backend.service'\nimport { UIService } from '../ui.service'\n\n// Models (hmm)\nimport {\n  Author, AuthorData,\n  ValidationError, ServerError,\n} from '../models'\n\nimport gql from 'graphql-tag'\nimport { Apollo } from 'apollo-angular'\n\n@Component({\n  selector: 'app-author-page',\n  templateUrl: './author-page.component.html',\n  styleUrls: ['./author-page.component.css']\n})\nexport class AuthorPageComponent implements OnInit, OnDestroy {\n\n  // the ID is taken from the current route\n  authorID: string\n  // the author is retrieved from the backend\n  author: any\n  publications: any\n  editable: boolean = false\n\n  // keyboard observation\n  keyboardSubscription: Subscription\n\n\n  constructor(\n    // angular\n    private route: ActivatedRoute,\n    private router: Router,\n    // ink\n    private backend: BackendService,\n    private ui: UIService,\n    // graphql\n    private apollo: Apollo,\n  ) {\n    console.log('author page constructed')\n\n    this.route.params.subscribe(params => {\n      this.authorID = params['authorID']\n\n      if (this.authorID === 'create-author') {\n        this.editable = true\n        this.author = {\n          new: true,\n          id: 'create-author', // not ideal\n          name: '',\n          about: '',\n          imageURL: '/assets/images/mask.png',\n          publications: [],\n        }\n      } else {\n        this.backend.getAuthor(this.authorID).subscribe(author => {\n          this.author = JSON.parse(JSON.stringify(author))\n        })\n      }\n    })\n\n    // observe keyboard\n    this.keyboardSubscription = Observable.fromEvent(window, 'keydown').subscribe((event: KeyboardEvent) => {\n      \n      if ((event.metaKey || event.ctrlKey) && event.keyCode === 83) {\n        // cmd + s\n        this.saveAuthor()\n        event.preventDefault()\n      } else if ((event.metaKey || event.ctrlKey) && event.keyCode === 68) {\n        // cmd + d\n        this.deleteAuthor()\n        event.preventDefault()\n      }\n    })\n  }\n\n\n  /**\n   * Deletes the author, and redirects to my-account\n   */\n  deleteAuthor() {\n    this.backend.deleteAuthor(this.authorID).subscribe((info: iInfo) => {\n      this.ui.flashMessage(info.message)\n      this.router.navigate(['/my-account'])\n    })\n  }\n\n  /**\n   * The author instance data can get changed by the author component, \n   * and trigger an update here\n   */\n  saveAuthor() {\n    console.log('save author')\n    this.backend.saveAuthor(this.author).subscribe((authorResponse: any) => {\n      this.ui.flashMessage(authorResponse.info.message)\n      // in case of create-author, we need to redirect\n      this.router.navigate(['/', authorResponse.author.id])\n      console.log(authorResponse.author.id)\n    })\n  }\n\n  ngOnInit() {\n    /**\n     * On media click, we update the author's image url\n     */\n    this.ui.mediaClickObservable.subscribe(image => {\n      this.author.imageURL = image.url\n    })\n  }\n\n  /**\n   * Unsubscribe from keyboard events\n   */\n  ngOnDestroy() {\n    console.log('author page destroyed')\n    this.keyboardSubscription.unsubscribe()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/author-page/author-page.component.ts","// Angular\nimport { Component, OnInit, Input, EventEmitter, Output } from '@angular/core'\nimport { DomSanitizer } from '@angular/platform-browser'\n\n// Ink\nimport { iAuthor } from '../models'\nimport { UIService } from '../ui.service'\n\n\n@Component({\n  selector: 'app-author',\n  templateUrl: './author.component.html',\n  styleUrls: ['./author.component.css']\n})\nexport class AuthorComponent implements OnInit {\n\n  // the ID is taken from the current route\n  authorID: string\n  // the author is retrieved from the backend, or 'new'\n  @Input() author: iAuthor\n  @Input() editable: boolean = false\n  @Input() size: string\n  @Output() onSave: EventEmitter<any> = new EventEmitter()\n\n  // this output is emitted straight from the template!\n  @Output() create: EventEmitter<any> = new EventEmitter()\n\n  imageStyle = {\n    boxShadow: this.sanitizer.bypassSecurityTrustStyle('inset 0 1.5px 3px 0 rgba(0,0,0,.15), 0 1.5px 3px 0 rgba(0,0,0,.15)'),\n    border: this.size === 'sticker' ? '3px solid green' : '8px solid #fff',\n  }\n\n  imgStyle() {\n    if (this.size === 'sticker') {\n      return {\n        'width.px': 70,\n        'height.px': 70,\n      }\n    }\n    else {\n      return {\n        'width.px': 150,\n        'height.px': 150,\n      }\n    }\n  }\n  nameStyle(): any {\n    if (this.size === 'sticker') {\n      return {\n        'font-size.px': 14,\n        'margin': '5px 0',\n        'font-weight': 'bold',\n      }\n    }\n    else {\n      return {\n        'font-size.px': 50,\n        'font-weight': 'bold',\n        'margin': '10px 0',\n        'border': 0,\n        'width.%': 100,\n        'textAlign': 'center',\n      }\n    }\n  }\n  aboutStyle() {\n    if (this.size === 'sticker') {\n      return {\n        'font-size.px': 12,\n      }\n    }\n    else {\n      return {\n        'font-size.px': 18,\n      }\n    }\n  }\n  pad = this.size === 'sticker' ? 5 : 20\n\n\n\n  constructor(\n    private ui: UIService,\n    private sanitizer: DomSanitizer,\n  ) {\n    \n  }\n\n\n\n  ngOnInit() {\n    console.log('author cmp here', this.author)\n\n  }\n\n  ngOnChanges() {\n    console.log('author cmp input changed', this.author)\n  }\n\n  emitSaveAuthor() {\n    console.log('author cmp emits onSave')\n    this.onSave.emit()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/author/author.component.ts","import { ElementRef, HostListener, Directive} from '@angular/core';\n\n@Directive({\n    selector: 'textarea[autosize]'\n})\n\nexport class AutosizeDirective {\n @HostListener('input',['$event.target'])\n  onInput(textArea: HTMLTextAreaElement): void {\n    this.adjust();\n  }\n  constructor(public element: ElementRef){\n  }\n  ngAfterContentChecked(): void{\n    this.adjust();\n  }\n  adjust(): void{\n    this.element.nativeElement.style.overflow = 'hidden'\n    this.element.nativeElement.style.height = 'auto'\n    this.element.nativeElement.style.height = this.element.nativeElement.scrollHeight + 'px'\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/autosize.directive.ts","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-bottom-bar',\n  templateUrl: './bottom-bar.component.html',\n  styleUrls: ['./bottom-bar.component.css']\n})\nexport class BottomBarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/bottom-bar/bottom-bar.component.ts","import { Component } from '@angular/core'\nimport { Router, ActivatedRoute } from '@angular/router'\n\nimport gql from 'graphql-tag'\nimport { Apollo } from 'apollo-angular'\n\nimport { BackendService } from '../backend.service'\n\n@Component({\n  selector: 'app-email-verification-page',\n  templateUrl: './email-verification-page.component.html',\n  styleUrls: ['./email-verification-page.component.css']\n})\nexport class EmailVerificationPageComponent {\n\n  email: string\n  token: string\n  status: string = 'checking'\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n\n    private apollo: Apollo,\n    private backend: BackendService,\n  ) { \n    this.route.params.subscribe(params => {\n      this.email = params['email']\n      this.token = params['token']\n      this.backend.verifyEmail(this.email, this.token).subscribe(account => {\n        if (account.verified) {\n          this.status = 'success' \n        } else {\n          this.status = 'verification failed'\n        }\n      },\n      (error) => {\n        this.status = 'sorry, an error occured'\n      })\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/email-verification-page/email-verification-page.component.ts","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core'\nimport { BackendService } from '../backend.service'\nimport { DomSanitizer, SafeResourceUrl, SafeUrl} from '@angular/platform-browser'\n\ninterface iUploadObject {\n  filename: string\n  status: string\n  percent: number\n  preview: any\n}\n\n@Component({\n  selector: 'app-file-drop',\n  templateUrl: './file-drop.component.html',\n})\nexport class FileDropComponent {\n\n  @ViewChild('fileinput') fileinput: ElementRef\n\n  testSRC: any\n  uploads: any[] = []\n\n  /** pass on the click to the native input type file */\n  clickFileinput() {\n    //console.log(this.fileinput.nativeElement)\n    this.fileinput.nativeElement.click()\n  }\n  /** on classic file(s) selection */\n  fileinputChange($event) {\n    //console.log($event)\n    const files = $event.target.files\n    //console.log(files)\n    for (let file of files) {\n\n      // create an upload object\n      let uploadObject: iUploadObject = {\n        filename: file.name,\n        status: 'created',\n        percent: 0,\n        preview: ''\n      }\n\n      this.uploads.push(uploadObject)\n\n      // attach a preview callback\n      var reader = new FileReader()\n      reader.onload = (event: any) => {\n        //uploadObject.preview = event.target.result\n\n        //uploadObject.preview = this.sanitizer.bypassSecurityTrustUrl('url(' + event.target.result + ')'),\n        uploadObject.preview = this.sanitizer.bypassSecurityTrustStyle('url(' + event.target.result + ')')\n        console.log('preview ready')\n      }\n      reader.readAsDataURL(file)\n\n      // upload the file, and listen to news\n      this.backend.uploadFile(file).delay(1000).subscribe(\n        (progress) => {\n          console.log('fd progress', progress)\n          uploadObject.percent = progress\n        }, (error) => {\n          console.log('error in upload progress', error)\n          uploadObject.status = 'error'\n        }, () => {\n          console.log('fd complete')\n          uploadObject.status = 'uploaded'\n        })\n    }\n  }\n\n\n\n  onDragOver($event) {\n    $event.preventDefault()\n    $event.stopPropagation()\n  }\n\n  onDrop($event) {\n    $event.preventDefault()\n    $event.stopPropagation()\n\n    const files = $event.dataTransfer.files\n    console.log('dropped!', $event)\n\n    var reader = new FileReader()\n    reader.onload = (event: any) => {\n      this.testSRC = event.target.result\n    }\n    reader.readAsDataURL(files[0])\n\n    for (let file of files) {\n      this.backend.uploadFile(file).subscribe((res) => {\n        console.log('single file upload completed', res)\n      })\n    }\n  }\n\n  constructor(\n    private backend: BackendService,\n    private sanitizer: DomSanitizer,\n  ) { }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/file-drop/file-drop.component.ts","import { Component, OnInit } from '@angular/core'\n\nimport gql from 'graphql-tag'\nimport { Apollo } from 'apollo-angular'\n\nimport { BackendService } from '../backend.service'\n\ninterface results {\n  data: {articles: any}\n}\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.css']\n})\nexport class HomePageComponent implements OnInit {\n\n  article: any\n\n  constructor(\n    private backend: BackendService,\n  ) {\n\n  }\n\n  ngOnInit() {\n    // home article\n    this.backend.getArticle('public-ink', 'about-public-ink', 'hi-there').subscribe(article => {\n      this.article = article\n    })\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/home-page/home-page.component.ts","import { Component, OnInit } from '@angular/core'\nimport { UIService } from '../ui.service'\nimport { DomSanitizer} from '@angular/platform-browser'\n\n@Component({\n  selector: 'app-layout',\n  templateUrl: './layout.component.html',\n  styleUrls: ['./layout.component.css']\n})\nexport class LayoutComponent implements OnInit {\n\n  dalei = {\n    name: 'Dalei Lama',\n    about: 'A badass kind of monck. Though I never went to prison like some of my bad ass homies, I still roll pretty damn hard.',\n    imageURL: this.sanitizer.bypassSecurityTrustUrl('/assets/images/dalei.jpg'),\n  }\n  marty = {\n    name: 'Marty Mc Hoff',\n    about: 'The dude who builds the thing.',\n    imageURL: this.sanitizer.bypassSecurityTrustUrl('/assets/images/hoff.jpg'),\n  }\n\n  constructor(\n    private ui: UIService,\n    private sanitizer: DomSanitizer,\n  ) { }\n\n  ngOnInit() { \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/layout/layout.component.ts","import { Component, OnInit } from '@angular/core'\n\nimport { BackendService } from '../backend.service'\n\n@Component({\n  selector: 'app-me-page',\n  templateUrl: './me-page.component.html',\n  styleUrls: ['./me-page.component.css']\n})\nexport class MePageComponent implements OnInit {\n\n  newAuthorName = \"\"\n\n  constructor(\n    private backend: BackendService\n  ) { }  \n\n  ngOnInit() {\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/me-page/me-page.component.ts","import { Component, OnInit } from '@angular/core'\n\n// ink\nimport { BackendService } from '../backend.service'\n\n@Component({\n  selector: 'app-media-page',\n  templateUrl: './media-page.component.html',\n  styleUrls: ['./media-page.component.css']\n})\nexport class MediaPageComponent implements OnInit {\n\n  constructor(\n    private backend: BackendService,\n  ) { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/media-page/media-page.component.ts","// Angular\nimport { Component, OnInit } from '@angular/core'\nimport { Router, ActivatedRoute, Params } from '@angular/router'\n\n// RX\nimport { Observable } from 'rxjs/Observable'\nimport { Subscription } from 'rxjs/Subscription'\nimport 'rxjs/Rx'\n\n// GraphQL Tools\nimport { Apollo } from 'apollo-angular'\nimport gql from 'graphql-tag'\n\n// Ink Services\nimport { BackendService } from '../backend.service'\nimport { UIService } from '../ui.service'\n\n// Ink Interfaces\nimport { iPublication } from '../publication/publication.component'\nimport { iPublicationResponse } from '../models'\n\n@Component({\n  selector: 'app-publication-page',\n  templateUrl: './publication-page.component.html',\n  styleUrls: ['./publication-page.component.css']\n})\nexport class PublicationPageComponent implements OnInit {\n\n  authorID: string\n  publicationID: string\n  publication: iPublication\n\n  keyboardSubscription: Subscription\n\n  constructor(\n    // angular\n    private route: ActivatedRoute,\n    private router: Router,\n    // ink\n    private backend: BackendService,\n    private ui: UIService,\n    // graphql\n    private apollo: Apollo,\n  ) {\n    console.log('publication page constructed')\n    this.route.params.subscribe(params => {\n\n      console.log('pub page router change, constructor')\n\n      this.authorID = params['authorID']\n      this.publicationID = params['publicationID']\n\n      // keyboard shortcuts\n      this.keyboardSubscription = Observable.fromEvent(window, 'keydown').subscribe((event: KeyboardEvent) => {\n\n        if ((event.metaKey || event.ctrlKey) && event.keyCode === 83) {\n          // cmd + s\n          this.savePublication()\n          event.preventDefault()\n\n        } else if ((event.metaKey || event.ctrlKey) && event.keyCode === 68) {\n          // cmd + d\n          this.deletePublication()\n          event.preventDefault()\n        }\n      })\n\n      if (this.publicationID === 'create-publication') {\n        this.backend.getAuthor(this.authorID).subscribe((author: any) => {\n          this.publication = {\n            // got to get author!\n            author: author,\n            new: true,\n            id: this.publicationID,\n            name: 'no name yet',\n            articles: [],\n            imageURL: '',\n          }\n        })\n\n        return\n      }\n      this.backend.getPublication(this.authorID, this.publicationID).subscribe(publication => {\n        this.publication = JSON.parse(JSON.stringify(publication))\n      })\n    })\n  }\n\n  ngOnInit() {\n    // listen to media click\n    // simply sets the imageURL of the publication\n    this.ui.mediaClickObservable.subscribe(image => {\n      this.publication.imageURL = image.url // size?\n    })\n  }\n\n  /** \n   * Save (creates of updates) the local publication!\n   */\n  savePublication() {\n    // todo: validation\n    this.backend.savePublication(this.publication).subscribe((publicationResponse: any) => {\n      this.ui.flashMessage(publicationResponse.info.message)\n      // coule be that we are already here, this is for creates\n      console.log(publicationResponse)\n      this.router.navigate(['/', publicationResponse.publication.author.id, publicationResponse.publication.id])\n    })\n  }\n  /**\n   * Deletes the current publication\n   */\n  deletePublication() {\n    this.backend.deletePublication(this.publication).subscribe(info => {\n      this.ui.flashMessage(info.message)\n      this.router.navigate(['/', this.authorID])\n    })\n  }\n\n  ngOnDestroy() {\n    console.log('publication page destroyed')\n    this.keyboardSubscription.unsubscribe()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/publication-page/publication-page.component.ts","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core'\n\n// ink\nimport { Publication } from '../models'\nimport { UIService } from '../ui.service'\n\ninterface iAuthor {\n  id: string\n  name?: string\n}\n\nexport interface iPublication {\n  new?: boolean\n  id: string\n  name?: string\n  author?: iAuthor \n  articles: any[]\n  imageURL: string\n}\n\n@Component({\n  selector: 'app-publication',\n  templateUrl: './publication.component.html',\n  styleUrls: ['./publication.component.css']\n})\nexport class PublicationComponent implements OnInit {\n\n  safeBG: any\n\n  // the publication that is passed into us\n  @Input() publication: Publication\n  @Input() editable: boolean = false\n\n  // emit the fact that the save button has been clicked - do your thing\n  // called straight from save button\n  @Output() saveClicked: EventEmitter<any> = new EventEmitter()\n\n  constructor(\n    private ui: UIService,\n  ) { }\n\n  ngOnInit() {\n    \n    console.log('pub got pub?', this.publication)\n  }\n\n  style = {\n    name: {\n      'font-size.px': 60,\n      'font-weight': 'bold',\n      'color': 'white',\n      'text-align': 'center',\n      'text-decoration': 'none',\n      'margin': '10px 0px',\n    },\n    about: {\n      'font-size.px': 28,\n      'font-weight': 'normal',\n      'color': 'white',\n      'text-align': 'center',\n      'margin': '10px 0px',\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/publication/publication.component.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'slugify'\n})\nexport class SlugifyPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return null;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/slugify.pipe.ts","import { Pipe, PipeTransform } from '@angular/core'\n\n@Pipe({\n  name: 'stringify'\n})\nexport class StringifyPipe implements PipeTransform {\n\n  transform(value: Object): string {\n    return JSON.stringify(value)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/stringify.pipe.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/account-page/account-page.component.css\n// module id = 796\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 797\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/article-page/article-page.component.css\n// module id = 798\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/article/article.component.css\n// module id = 799\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/auth-page/auth-page.component.css\n// module id = 800\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/author-page/author-page.component.css\n// module id = 801\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/author/author.component.css\n// module id = 802\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/bottom-bar/bottom-bar.component.css\n// module id = 803\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/email-verification-page/email-verification-page.component.css\n// module id = 804\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/home-page/home-page.component.css\n// module id = 805\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/layout/layout.component.css\n// module id = 806\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/me-page/me-page.component.css\n// module id = 807\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/media-page/media-page.component.css\n// module id = 808\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/publication-page/publication-page.component.css\n// module id = 809\n// module chunks = 1","module.exports = \".about {\\n    color: white;\\n    background-color:transparent;\\n    border:0;\\n    outline:0;\\n    text-align: center;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/publication/publication.component.css\n// module id = 810\n// module chunks = 1","module.exports = \"<!--{{ backend.userAccount | stringify }}-->\\n\\n<div *ngIf=\\\"backend.userAccount\\\">\\n  <div class=\\\"content-width\\\">\\n    <div>{{ backend.userAccount.email }}, <span *ngIf=\\\"backend.userAccount.verified\\\">is verified.</span> <a [routerLink]=\\\"['/create-author']\\\">Create Author</a> \\n    \\n    <a [routerLink]=\\\"['/my-media']\\\">Your Media</a>\\n    <a href=\\\"#\\\" (click)=\\\"backend.logoutUser()\\\">Log Out</a></div>\\n  </div>\\n\\n\\n  <div *ngFor=\\\"let author of backend.userAccount.authors\\\">\\n\\n    <!-- authors -->\\n  \\n    <app-author [author]=\\\"author\\\"></app-author>\\n\\n    <div *ngFor=\\\"let publication of author.publications\\\">\\n\\n      <!-- pubs -->\\n      \\n      <app-publication [publication]=\\\"publication\\\"></app-publication>\\n\\n      <!-- articles -->\\n      <div *ngFor=\\\"let article of publication.articles\\\">\\n        <app-article [article]=\\\"article\\\" [preview]=\\\"true\\\"></app-article>\\n      </div>\\n    </div>\\n    \\n  </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/account-page/account-page.component.html\n// module id = 811\n// module chunks = 1","module.exports = \"<!-- cover for production currently -->\\n<flex-col-center-center *ngIf=\\\"!public\\\" style=\\\"z-index: 10000; position:fixed; top: 0; left:0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,1);\\\">\\n    <h1>public.ink</h1>\\n</flex-col-center-center>\\n\\n\\n<!-- full screen message overlay -->\\n<flex-col-center-center *ngIf=\\\"ui.message\\\" (click)=\\\"ui.message = false\\\" style=\\\"z-index: 9999; position:fixed; top: 0; left:0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,0.8);\\\">\\n    <h1>{{ ui.message }}</h1>\\n</flex-col-center-center>\\n\\n<flex-row-center style=\\\"z-index: 9999; border-bottom: 2px solid #444; background-color:white; height: 50px; position:fixed; top: 0; left:0; width: 100%;\\\">\\n    <flex-row-around-center class=\\\"content-width\\\">\\n        <flex-col-center class=\\\"grow\\\">\\n            <a [routerLink]=\\\"['/']\\\">Home</a>\\n        </flex-col-center>\\n\\n        <flex-col-center class=\\\"grow\\\">\\n            public.ink {{ env }}\\n        </flex-col-center>\\n\\n        <!-- login / signup -->\\n        <flex-row-center *ngIf=\\\"!backend.userAccount?.authenticated\\\" class=\\\"grow\\\">\\n            <a [routerLink]=\\\"['/auth']\\\">Log In</a>\\n            / \\n            <a [routerLink]=\\\"['/auth']\\\">Sign Up</a>\\n        </flex-row-center>\\n        <!-- your account -->\\n        <flex-col-center *ngIf=\\\"backend.userAccount?.authenticated\\\" class=\\\"grow\\\">\\n            <a [routerLink]=\\\"['/my-account']\\\">Your Account</a>\\n        </flex-col-center>\\n\\n\\n    </flex-row-around-center>\\n</flex-row-center>\\n\\n<div style=\\\"height: 50px;\\\">just space behind the top bar</div>\\n\\n\\n<router-outlet></router-outlet>\\n\\n\\n<!-- media bar! -->\\n<div style=\\\"position:fixed; bottom: 0px; left:0px; width: 100%;\\\" [hidden]=\\\"!ui.mediaBar\\\">\\n    <div>\\n        <flex-row style=\\\"overflow-x:scroll; background-color: white;\\\">\\n             \\n             <flex-col *ngFor=\\\"let image of backend.userImages\\\">\\n                <img (click)=\\\"ui.mediaClickStream.next(image)\\\"  [src]=\\\"image.url + '&w=200&h=200'\\\" style=\\\"margin:5px;\\\" />\\n                <button (click)=\\\"backend.deleteImage(image.id)\\\">delete</button>\\n             </flex-col>\\n        </flex-row>\\n    </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 812\n// module chunks = 1","module.exports = \"<div *ngIf=\\\"article\\\">\\n\\n    <app-article [article]=\\\"article\\\" [editable]=\\\"true\\\"></app-article>\\n\\n    <div style=\\\"position:fixed; top:52px; left: 0; width: 100%; border-bottom: 1px solid #333; background-color: white; z-index:3;\\\">\\n        <flex-row-center id=\\\"toolbar\\\" class=\\\"content-width\\\">\\n            <!-- toolbar controls go here! -->\\n            <button class=\\\"ql-bold\\\">Bold</button>\\n            <button class=\\\"ql-italic\\\">Italic</button>\\n            <button class=\\\"ql-underline\\\">under</button>\\n            <button class=\\\"ql-strike\\\">strike</button>\\n            <button class=\\\"ql-blockquote\\\"></button>\\n            <button class=\\\"ql-image\\\">img</button>\\n            <button class=\\\"ql-link\\\">link</button>\\n            <button class=\\\"ql-header\\\" value=\\\"1\\\" type=\\\"button\\\"></button>\\n            <button class=\\\"ql-header\\\" value=\\\"2\\\" type=\\\"button\\\"></button>\\n            <button class=\\\"ql-clean\\\">clean</button>\\n        </flex-row-center>\\n    </div>\\n\\n\\n    \\n    <app-bottom-bar>\\n\\n        <div class=\\\"content-width\\\">\\n            <flex-row-between-center style=\\\"height:50px;\\\">\\n                <div (click)=\\\"save()\\\">Save Chages </div>\\n                <div (click)=\\\"save()\\\">Publish Article</div>\\n                <div (click)=\\\"delete()\\\">Delete Article</div>\\n            </flex-row-between-center>\\n        </div>\\n\\n    </app-bottom-bar>\\n\\n\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/article-page/article-page.component.html\n// module id = 813\n// module chunks = 1","module.exports = \"<div class=\\\"content-width\\\">\\n\\n   \\n\\n    <div style=\\\"height: 80px\\\"></div>\\n\\n    <textarea *ngIf=\\\"editable\\\" type=\\\"text\\\" \\n        class=\\\"focus-bg\\\"\\n        autosize\\n        rows=\\\"1\\\"\\n    style=\\\"font-size:50px; width: 100%; font-weight: bold; border:0px;\\\" [(ngModel)]=\\\"article.title\\\" ></textarea>    \\n    <h1 *ngIf=\\\"!editable\\\"><a style=\\\"color: #333; text-decoration: none;\\\" [routerLink]=\\\"['/', article.publication.author.id, article.publication.id, article.id]\\\">{{ article.title}}</a></h1>\\n    \\n    <!-- punchline -->\\n    <!--<h4 style=\\\"font-weight:400; margin-top: 5px; margin-bottom:10px; font-size: 27px; color: #555;\\\">An then, there where wolves.</h4>-->\\n    <flex-row-start-center>\\n        <!--<img src=\\\"/assets/images/mask.png\\\" style=\\\"border-radius: 100%; width:50px; height: 50px;\\\" />\\n        -->\\n        <div style=\\\"color: #666;\\\">By \\n            <a style=\\\"color:dodgerblue;\\\" [routerLink]=\\\"['/', article.publication.author.id]\\\">{{ article.publication.author.name }}</a>\\n            in <a style=\\\"color: dodgerblue;\\\" [routerLink]=\\\"['/', article.publication.author.id, article.publication.id]\\\">{{ article.publication.name }}</a> | February 2017\\n        </div>\\n        \\n    </flex-row-start-center>\\n    <div style=\\\"height:50px;\\\"></div>\\n    <div #editor>editor goes here</div>\\n\\n    <div #hidden style=\\\"display: none; background-color:lime;\\\">jo</div>\\n\\n    \\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/article/article.component.html\n// module id = 814\n// module chunks = 1","module.exports = \"<div class=\\\"content-width\\\" >\\n\\n  <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"doLogin($event)\\\">\\n    <flex-col>\\n      <div class=\\\"form-label\\\">\\n        <label for=\\\"loginEmail\\\">Login Email</label>\\n      </div>\\n      <input id=\\\"loginEmail\\\" class=\\\"form-input\\\" formControlName=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"your email address\\\">\\n\\n      <div class=\\\"form-label\\\">\\n      <label for=\\\"loginPassword\\\">Password</label>\\n      </div>\\n      <input id=\\\"loginPassword\\\" class=\\\"form-input\\\" formControlName=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"your password\\\">\\n      <br>\\n\\n      <!-- use the 2-elements strategy. todo: proper sizing!-->\\n      <flex-row-center *ngIf=\\\"loginLoading\\\" class=\\\"form-button\\\">\\n        <div class=\\\"spinner\\\"></div>\\n      </flex-row-center>\\n      <button *ngIf=\\\"!loginLoading\\\" class=\\\"form-button\\\" type=\\\"submit\\\" [disabled]=\\\"!loginForm.valid\\\">Log In</button>\\n\\n    </flex-col>\\n  </form>\\n\\n\\n  <div id=\\\"register-login-forms\\\" *ngIf=\\\"!backend.userAccount?.authenticated\\\">\\n\\n\\n\\n    <simple-spacer></simple-spacer>\\n    <h2>About</h2>\\n    <p>\\n      <b>public.ink</b> is in the ealy days of providing a network to the public that's free of commercial interst.\\n      <br>\\n      <br> It is an attempted antidode to centralized control over the internet.\\n      <br>\\n      <br> Where you are in charge, of your data, and of the conduct.\\n      <br>\\n      <br>\\n      If you'd like to try it out, sign up below. More information on what we store, how, and why comes below.\\n\\n    </p>\\n    <form [formGroup]=\\\"registrationForm\\\" (ngSubmit)=\\\"createAccount($event)\\\">\\n      <flex-col>\\n        <label class=\\\"form-label\\\" for=\\\"registrationEmail\\\">Email</label>\\n        <input id=\\\"registrationEmail\\\" class=\\\"form-input\\\" formControlName=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"your email address\\\">\\n\\n        <!-- password -->\\n        <label class=\\\"form-label\\\" for=\\\"registrationPassword\\\">Password</label>\\n        <input id=\\\"registrationPassword\\\" class=\\\"form-input\\\" formControlName=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"your password\\\">\\n\\n        <!-- password again -->\\n        <label class=\\\"form-label\\\" for=\\\"registrationPassword2\\\">Repeat Password</label>\\n        <input id=\\\"registrationPassword2\\\" class=\\\"form-input\\\" formControlName=\\\"password2\\\" type=\\\"password\\\" placeholder=\\\"because typos are rael\\\">\\n\\n        <!-- checkbox galore -->\\n\\n\\n        <label class=\\\"form-label\\\" for=\\\"termsCheckbox\\\">Them Rules</label>\\n\\n        <flex-row-100>\\n          <!-- the checkbox -->\\n          <flex-row>\\n            <input type=\\\"checkbox\\\" id=\\\"termsCheckbox\\\" formControlName=\\\"terms\\\" name=\\\"cc\\\" />\\n            <label tabindex=\\\"0\\\" for=\\\"termsCheckbox\\\"></label>\\n          </flex-row>\\n          <flex-row class=\\\"grow\\\">I accept the house rules.</flex-row>\\n        </flex-row-100>\\n\\n        <!-- use the 2-elements strategy. todo: proper sizing!-->\\n        <flex-row-center *ngIf=\\\"registrationLoading\\\" class=\\\"form-button\\\">\\n          <div class=\\\"spinner\\\"></div>\\n        </flex-row-center>\\n        <button *ngIf=\\\"!registrationLoading\\\" class=\\\"form-button\\\" type=\\\"submit\\\" [disabled]=\\\"!registrationForm.valid\\\">Create Account</button>\\n\\n      </flex-col>\\n    </form> <!-- end or registration -->\\n\\n    <!-- Auth explained -->\\n    <simple-spacer></simple-spacer>\\n    <h2>How authentication works on public.ink</h2>\\n    <p>\\n      <b>public.ink</b> employs a simple yet reasonably secure way of authenticating her users.\\n      <br>\\n      We don't make use of convenient social logins, such as by Facebook or Google, on purpose.\\n    </p>\\n\\n    <simple-spacer></simple-spacer>\\n    <h2>This is an anti-trend</h2>\\n    <p>\\n      Google was an anti-trend against big coprs ruling the internet. Then, Google itself became a big corp.\\n      <br>\\n      Anti-trends happen because many people feel that the status-quo could use some improving. This is what this project is about...\\n    </p>\\n\\n\\n\\n\\n\\n\\n  </div>\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/auth-page/auth-page.component.html\n// module id = 815\n// module chunks = 1","module.exports = \"\\n\\n<flex-row-center *ngIf=\\\"author\\\">\\n    <flex-col class=\\\"content-width\\\">\\n        <!-- center lane -->\\n            <app-author [author]=\\\"author\\\" [editable]=\\\"1\\\" (create)=\\\"create()\\\"></app-author>\\n            \\n            <!-- if NEW: create him inline button -->\\n            <button *ngIf=\\\"author.new\\\" (click)=\\\"saveAuthor()\\\">create author</button>\\n        \\n            <!-- if EXISTING AUTHOR: create new publication -->\\n            <flex-col *ngIf=\\\"!author.new\\\">\\n                <h2>create a publication</h2>\\n                <p>publication is our way of grouping articles together. You can think of them as blogs, and you can create one or multiple of them.\\n                <a  \\n                    [routerLink]=\\\"['/', author.id, 'create-publication']\\\">\\n                    start publication\\n                    \\n                </a>\\n            </flex-col>\\n           \\n        <!-- end of center lane -->\\n    </flex-col>\\n</flex-row-center>\\n\\n\\n<!-- this author's publications -->\\n<flex-row-center *ngIf=\\\"publications\\\">\\n    <app-publication *ngFor=\\\"let publication of publications\\\" [publication]=\\\"publication\\\"></app-publication>\\n    <!-- could potentially add some articles in here -->\\n</flex-row-center>\\n\\n\\n <!-- update / delete existing -->\\n<app-bottom-bar *ngIf=\\\"author && !author.new\\\">\\n    <div class=\\\"content-width\\\" >\\n        <flex-row-between>\\n            <button (click)=\\\"saveAuthor()\\\">save changes</button>\\n            <button (click)=\\\"delete()\\\" *ngIf=\\\"1\\\">delete author</button>\\n        </flex-row-between>\\n    </div>\\n</app-bottom-bar>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/author-page/author-page.component.html\n// module id = 816\n// module chunks = 1","module.exports = \"\\n<!-- author display pattern -->\\n<!-- AUTHOR -->\\n<flex-col-center>\\n\\n    <!-- information about creating authors (only for /create-author) -->\\n    <div class=\\\"content-width\\\" *ngIf=\\\"author?.new\\\">\\n        <h1>Create an Author</h1>\\n        <p>Authors are the public actors on public.ink. You can create multiple authors, if you like.\\n            You can use your real name, a nickname, or pseudonym - up to you. Likewise, you are free to chose whatever photo.\\n        </p>\\n    </div>\\n\\n\\n  <!-- display pattern: author! -->\\n  <flex-col-center class=\\\"content-width\\\" *ngIf=\\\"author\\\">\\n\\n    <!-- circle container -->\\n    <flex-center\\n      [style.background-color]=\\\"ui.colors.debug ? ui.colors.lightyellow : ''\\\"\\n      [style.padding.px]=\\\"pad\\\"\\n      >\\n      <img \\n        [style.box-shadow]=\\\"imageStyle.boxShadow\\\"\\n        [style.border]=\\\"size === 'sticker' ? '4px solid #000' : '8px solid #fff'\\\"\\n        [ngStyle]=\\\"imgStyle()\\\"\\n        (click)=\\\"ui.mediaBar = !ui.mediaBar\\\"\\n      style=\\\"border-radius: 500px;\\\" [src]=\\\"author.imageURL +'&w=150&h=150'\\\" />\\n      \\n    </flex-center>\\n    <!-- author text -->\\n    <flex-col-center-center class=\\\"grow\\\"\\n      [style.padding.px]=\\\"0\\\"\\n      [style.background-color]=\\\"ui.colors.debug ? ui.colors.lightred : ''\\\"\\n      [style.color]=\\\"size === 'sticker' ? 'white' : '8px solid black'\\\"\\n    >\\n        \\n    <!-- AUTHOR NAME -->\\n    <!-- name input -->\\n      <input *ngIf=\\\"editable\\\"\\n      type=\\\"text\\\"\\n      placeholder=\\\"Author Name\\\"\\n      [(ngModel)]=\\\"author.name\\\" \\n      style=\\\"text-align:center;\\\"\\n      class=\\\"focus-bg\\\"\\n      [ngStyle]=\\\"nameStyle()\\\" />\\n\\n      <!-- name link -->\\n      <a *ngIf=!editable style=\\\"color:#333; text-decoration: none;\\\"\\n      [routerLink]=\\\"['/', author.id]\\\"><h3\\n      [ngStyle]=\\\"nameStyle()\\\"\\n      >{{ author.name}}</h3></a> \\n      \\n      <!-- AUTHOR ABOUT -->\\n      <!-- about input -->\\n      <textarea *ngIf=\\\"editable\\\"\\n        [(ngModel)]=\\\"author.about\\\"\\n        placeholder=\\\"A short introduction about this author. [optional]\\\"\\n        [ngStyle]=\\\"aboutStyle()\\\"\\n        class=\\\"focus-bg\\\"\\n      ></textarea>\\n\\n      <p *ngIf=\\\"!editable\\\">\\n        {{ author.about }}\\n      </p>\\n\\n      <!-- about text -->\\n\\n\\n    </flex-col-center-center>\\n  </flex-col-center><!-- end of display pattern author -->\\n</flex-col-center>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/author/author.component.html\n// module id = 817\n// module chunks = 1","module.exports = \"<div style=\\\"height: 50px;\\\"></div>\\n    <!-- bottom bar -->\\n    <div style=\\\"position:fixed; bottom:0px; left: 0; width: 100%; border-top: 1px solid #333; background-color: white; z-index:3;\\\">\\n        <div class=\\\"content-width\\\">\\n            <ng-content></ng-content>\\n        </div>\\n    </div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/bottom-bar/bottom-bar.component.html\n// module id = 818\n// module chunks = 1","module.exports = \"<h1>Account Verification</h1>\\n<h2>status: {{ status }}</h2>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/email-verification-page/email-verification-page.component.html\n// module id = 819\n// module chunks = 1","module.exports = \"\\n<!-- drag / click area -->\\n<div \\n  (dragover)=\\\"onDragOver($event)\\\"\\n  (drop)=\\\"onDrop($event)\\\"\\n  (click)=\\\"clickFileinput()\\\"\\n  style=\\\"width: 100%; height: 100%; border: 2px dotted gray; padding: 10px; background-color: white; color:black\\\">\\n  drop files or click\\n  <!-- hidden standard file input (because it's not pretty, we simulate a click on it) -->\\n  <input style=\\\"width:0; height:0;\\\" (change)=\\\"fileinputChange($event)\\\" type=\\\"file\\\" multiple=\\\"multiple\\\" name=\\\"fileinput\\\"  id=\\\"fileinput\\\" #fileinput />\\n</div>\\n\\n<!-- running and completed uploads row -->\\n<flex-row>\\n  <!-- upload tile with preview and percent! -->\\n  <flex-col-center-center  *ngFor=\\\"let upload of uploads\\\" \\n    style=\\\"width:200px; height: 200px; background-repeat: no-repeat; background-position: center center; background-size: cover;\\\"\\n    [style.background-image]=\\\"upload.preview\\\">\\n\\n      <flex-col-center-center style=\\\"width: 50px; height: 50px; background-color: white; border-radius: 100%; border: 1px solid #333; \\\">\\n        {{ upload.percent }}%\\n      </flex-col-center-center>\\n    <!--{{ upload.filename }}\\n    {{ upload.status }}-->\\n  </flex-col-center-center>\\n</flex-row>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/file-drop/file-drop.component.html\n// module id = 820\n// module chunks = 1","module.exports = \"<!--<h1>public.ink home</h1>-->\\n<app-author [author]=\\\"article.publication.author\\\" *ngIf=\\\"article\\\"></app-author>\\n<app-publication [publication]=\\\"article.publication\\\" *ngIf=\\\"article\\\"></app-publication>\\n<app-article [article]=\\\"article\\\" *ngIf=\\\"article\\\"></app-article>\\n\\n<div class=\\\"content-width\\\">\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/home-page/home-page.component.html\n// module id = 821\n// module chunks = 1","module.exports = \"\\n<flex-row-center\\n  [style.background-color]=\\\"ui.colors.lightblue\\\"\\n>\\n  <h1>I am a flex row center</h1>\\n</flex-row-center>\\n\\n<flex-row-center\\n  [style.background-color]=\\\"ui.colors.lightgreen\\\"\\n  >\\n  <flex-row-center\\n    class=\\\"content-width\\\"\\n    [style.background-color]=\\\"ui.colors.lightyellow\\\">\\n      <h2>I am a flex-row-center.content-width</h2> \\n  </flex-row-center>\\n</flex-row-center>\\n\\n\\n<simple-spacer></simple-spacer>\\n\\n<app-author [author]=\\\"dalei\\\"></app-author>\\n\\n<!-- AUTHOR -->\\n<app-author [author]=\\\"marty\\\"></app-author>\\n\\n<simple-spacer></simple-spacer>\\n\\n<!-- publication -->\\n<!-- becomes publication component -->\\n<flex-row-center\\n class=\\\"bg1\\\"\\n [style.background-color]=\\\"'black'\\\"\\n  >\\n  <flex-col-center\\n    class=\\\"content-width\\\"\\n    [style.padding.px]=\\\"40\\\"\\n    [style.background-color]=\\\"ui.colors.debug ? ui.colors.lightyellow : ''\\\">\\n      <h1 \\n        [style.font-size.px]=\\\"40\\\"\\n      style=\\\"color: white; text-align: center;\\\">The Art of Happiness</h1>\\n      <app-author [author]=\\\"dalei\\\" [size]=\\\"'sticker'\\\"></app-author> \\n  </flex-col-center>\\n</flex-row-center>\\n\\n<simple-spacer></simple-spacer>\\n\\n<!-- article -->\\n<flex-row-center\\n  [style.background-color]=\\\"ui.colors.white\\\"\\n  >\\n  <flex-col-left\\n    class=\\\"content-width\\\"\\n    [style.background-color]=\\\"ui.colors.debug ? ui.colors.lightyellow : ''\\\">\\n      <div style=\\\"width:100%; height: 30vh;\\\" class=\\\"bg2\\\"></div>\\n      <h2>Anchors are for sailors, and the sea.</h2>\\n      <div>By Hoff on Feb 2017</div>\\n      <p>As such, there are many grand things to say, but where to start, where to end? As such, there are many grand things to say, but where to start, where to end?As such, there are many grand things to say, but where to start, where to end?As such, there are many grand things to say, but where to start, where to end?As such, there are many grand things to say, but where to start, where to end?As such, there are many grand things to say, but where to start, where to end?As such, there are many things to say, but where to start, where to end?As such, there are many things to say, but where to start, where to end?As s or what?, there are many things to say, but where to start, where to end?As s or what?, there are many things to say, but where to start, where to end?As s or what?, there are many things to say, but where to start, where to end?As s or what?, there are many things to say, but where to start, where to end?As s or what?, there are many things to say, but where to start, where to end?As s or what?, there are many things to say, but where to start, where to end?As s or what?, there are many things to say, but where to start, where to end?As such, there are many things to say, but where to start, where to end?As such, there are many things to say, but where to start, where to end?\\n      </p>\\n  </flex-col-left>\\n</flex-row-center>\\n\\n\\n\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/layout/layout.component.html\n// module id = 822\n// module chunks = 1","module.exports = \"<div class=\\\"content-width\\\">\\n  <h1>Your account</h1>\\n  <button>Delete Account</button>\\n</div>\\n\\n\\n  <div *ngFor=\\\"let author of backend.userAccount.authors\\\">\\n    author: <a [routerLink]=\\\"['/', author.id]\\\">{{ author.name }}</a>\\n    <app-author [author]=\\\"author\\\"></app-author>\\n  </div>\\n\\n  <div *ngIf=\\\"backend.userAccount.authors.length === 0\\\">\\n    <h2>you ain't got no authors!</h2>\\n    \\n\\n  </div>\\n\\n\\n<a [routerLink]=\\\"['/', 'create-author']\\\">create author link</a>\\n    <input \\n      type=\\\"text\\\" \\n      [(ngModel)]=\\\"newAuthorName\\\"\\n      placeholder=\\\"Author Name or Pseudonym\\\" \\n    />\\n    \\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/me-page/me-page.component.html\n// module id = 823\n// module chunks = 1","module.exports = \"<div class=\\\"content-width\\\">\\n\\n  <h2>your images</h2>\\n  <app-file-drop></app-file-drop>\\n  <!-- user images -->\\n  <flex-row-between style=\\\"flex-wrap: wrap\\\">\\n    <flex-col *ngFor=\\\"let image of backend.userImages\\\">\\n      <img [src]=\\\"image.url + '&w=200&h=200'\\\" style=\\\"margin:5px;\\\" />\\n      <button (click)=\\\"backend.deleteImage(image.id)\\\">delete</button>\\n    </flex-col>\\n  </flex-row-between>\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/media-page/media-page.component.html\n// module id = 824\n// module chunks = 1","module.exports = \"<div *ngIf=\\\"publication\\\">\\n\\n \\n\\n  <app-publication \\n    [publication]=\\\"publication\\\"\\n    [editable]=\\\"true\\\"\\n    (saveClicked)=\\\"savePublication()\\\"\\n    >\\n  </app-publication>\\n\\n  <!-- if NEW! -->\\n  <button (click)=\\\"savePublication()\\\" class=\\\"\\\" *ngIf=\\\"publication.new\\\">Create publication</button>\\n\\n  This publication has {{ publication.articles.length }} articles.\\n<div *ngFor=\\\"let article of publication.articles\\\">\\n\\n  <app-article [article]=\\\"article\\\" [editable]=\\\"false\\\" [preview]=\\\"true\\\"></app-article>\\n  <!--<a [routerLink]=\\\"['/', authorID, publicationID, article.id]\\\">{{ article.title }}</a>-->\\n</div>\\n\\n  <a [routerLink]=\\\"['/', publication.author.id, publication.id, 'create-article']\\\">Create Article</a>\\n\\n</div>\\n\\n\\n <!-- if Existing -->\\n<app-bottom-bar *ngIf=\\\"publication\\\">\\n   <flex-row-between-center style=\\\"height:50px;\\\">\\n    <button (click)=\\\"savePublication()\\\">Save Changes</button>\\n    <button (click)=\\\"deletePublication()\\\" class=\\\"\\\" *ngIf=\\\"!publication.new\\\">Delete Publication</button>\\n   </flex-row-between-center>\\n\\n</app-bottom-bar>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/publication-page/publication-page.component.html\n// module id = 825\n// module chunks = 1","module.exports = \"<div style=\\\"background-color:#000; position:relative; height: 30vh;\\\">\\n  <!-- background image -->\\n  <div \\n    style=\\\"opacity: 0.6; position:absolute; top: 0; left:0; width: 100%; height: 100%;\\\"\\n  [style.background-image]=\\\"'url(' + publication.imageURL +'&w=1440&h=300' + ')'\\\">\\n\\n  </div>\\n  <flex-col-center-center  style=\\\"position:absolute; top: 0; left:0; width: 100%; height: 100%;\\\">\\n    \\n    <flex-col-center class=\\\"content-width\\\">\\n\\n      <!-- name / link -->\\n        <h1 [routerLink]=\\\"['/', publication.author.id, publication.id]\\\" \\n          *ngIf=\\\"!editable\\\" [ngStyle]=\\\"style.name\\\"\\n          [style.cursor]=\\\"'pointer'\\\"\\n          >\\n          {{ publication.name }}\\n        </h1>\\n      <!-- Name editable -->\\n      <textarea \\n          *ngIf=\\\"editable\\\"\\n          class=\\\"focus-bg\\\"\\n          [(ngModel)]=\\\"publication.name\\\"\\n          [ngStyle]=\\\"style.name\\\"\\n          [style.cursor]=\\\"'default'\\\"\\n          autosize\\n          rows=\\\"1\\\">\\n      </textarea>\\n\\n      <!-- ABOUT -->\\n      <p *ngIf=\\\"!editable\\\"\\n        [ngStyle]=\\\"style.about\\\"\\n      > {{ publication.about }}</p>\\n      <!-- Name editable -->\\n      <textarea *ngIf=\\\"editable\\\"\\n          class=\\\"focus-bg\\\"\\n          [(ngModel)]=\\\"publication.about\\\"\\n          [ngStyle]=\\\"style.about\\\"\\n          autosize\\n          rows=\\\"1\\\">\\n      </textarea>\\n\\n    </flex-col-center>\\n\\n\\n  </flex-col-center-center>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/publication/publication.component.html\n// module id = 826\n// module chunks = 1"],"sourceRoot":""}